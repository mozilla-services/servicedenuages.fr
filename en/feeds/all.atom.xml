<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Service de nuages</title><link href="http://www.servicedenuages.fr/en/" rel="alternate"></link><link href="http://www.servicedenuages.fr/feeds/all.atom.xml" rel="self"></link><id>http://www.servicedenuages.fr/en/</id><updated>2015-08-13T00:00:00+02:00</updated><entry><title>Notifications in Kinto (Preamble)</title><link href="http://www.servicedenuages.fr/en/notifications-kinto-preamble" rel="alternate"></link><updated>2015-08-13T00:00:00+02:00</updated><author><name>Service de Nuages</name></author><id>tag:www.servicedenuages.fr,2015-08-13:en/notifications-kinto-preamble</id><summary type="html">&lt;p&gt;At a recent work week in the lovely French town of &lt;a href="https://www.qwant.com/?q=Douarnenez&amp;amp;t=images"&gt;Douarnenez&lt;/a&gt; we laid the groundwork for an upcoming feature in &lt;a href="https://kinto.readthedocs.org"&gt;Kinto&lt;/a&gt;: &lt;em&gt;Notifications!&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Sunset over Douarnenez (@phrawzty)" src="http://www.servicedenuages.fr/en/../images/notifications-douarnenez.jpg" style="width: 800px; height: auto; max-width: 100%;"/&gt;&lt;/p&gt;
&lt;h1&gt;tl;dr&lt;/h1&gt;
&lt;p&gt;For those that are in a hurry, here's the gist: We're going to be integrating a "notifications" system into Kinto with an eye towards simplicity, modernity, and flexibility. Our goal is to provide a solid framework that will allow other systems to take advantage of this new feature without having to jump through too many hoops. If that sounds interesting to you - read on.&lt;/p&gt;
&lt;h1&gt;Why?&lt;/h1&gt;
&lt;p&gt;The simple answer is that we have an itch to scratch at Mozilla. There is a platform called &lt;a href="https://wiki.mozilla.org/Balrog"&gt;Balrog&lt;/a&gt; which is part of the update system used by Firefox and other Mozilla products. As part of an initiative to extend and improve the update process (the "&lt;a href="https://wiki.mozilla.org/Firefox/Go_Faster"&gt;Go Faster&lt;/a&gt;" initiative), we needed to store and transmit small, discrete blocks of information both between internal systems, as well as out to all of our users in the real world. Kinto has almost all the functionality we need except for one thing: notifications.&lt;/p&gt;
&lt;p&gt;No problem. We can do that.&lt;/p&gt;
&lt;h2&gt;But wait, there's more!&lt;/h2&gt;
&lt;p&gt;Sure, Kinto is a Mozilla project - but it's meant for general use, which means that anything we design needs to be reasonably generic. With this in mind we committed to designing something that can be used in a variety of contexts; after all, we're an organisation built for and on the web, and as such, we're dedicated to using web-centric solutions.&lt;/p&gt;
&lt;p&gt;Thinking then about what sort of parameters a reasonably generic solution might entail lead us to a few basic guidelines for designing the notifications mechanism:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;We should strive to be as &lt;em&gt;agnostic&lt;/em&gt; as possible, meaning that locking into a particular service, back-end, or even programming language, should be avoided where possible.&lt;/li&gt;
&lt;li&gt;Since we're web-centric, we should capitalise on HTTP wherever possible as well.&lt;/li&gt;
&lt;li&gt;The notifications mechanism must be able to scale with a minimum of hardship; this applies to any eventual queues, workers, and so forth.&lt;/li&gt;
&lt;li&gt;Finally, it must be robust - we can't be losing messages now, can we?&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;What?&lt;/h1&gt;
&lt;p&gt;Before we go into the gritty details, let's take a moment to describe the overall picture of what we're trying to accomplish - on paper, at least, it's fairly straightforward:&lt;/p&gt;
&lt;p&gt;&lt;div class="graphviz" style="align: center;"&gt;&lt;img src="data:image/png;base64,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GQoKCp44raH0rYmIiGq/GnscPFXMysoKAPDKK68gMTERbm5uOqGjefPmAIBWrVpVab43btzAJ598og075b788svHpt2yZQuaN28OlUoFa2trrFq16qnTGqIqNRERUe3HIyNGZvny5WjatClCQkJw/fp1bbuZWVluNDc313temZmZeP/995GTk6PX9Onp6VAoFFUruIqqWhMREdV+PDJiZJo1a4aIiAgEBAQgKCgImzZtemoAyc/Px9q1a6FUKlFSUoKLFy/C2dkZgYGBsLGxwbZt23D58mVYWVkhNDQUCxYsgEajwb59+3D48GFcv34dGzduxKFDh3Do0CEUFRUhOzsboaGhAICZM2fiyJEjOtMCQFFREeLi4nDx4kVYW1vjzJkz6Nu3LwICAqBUKpGWloYVK1agXbt2yMjIQEZGBubOnQsXFxe9a6ps/aytrfHDDz/g8OHDOHz4MBISEhASEoLjx4+jXbt2CA0NhbOzc81sNCIiMohCGPALdm+99RYAID4+vtJpz50796yLqTM6deqEs2fPAgA2bdqEZcuWwd/fHx9//PFj7xcUFGD06NHw8vLC1KlTAQA5OTl49913UVJSgoSEBFhbW6NTp05o27YtduzYoV1Obm4uevTo8Vi7PtOWlpZiypQpaNKkCRYvXgylUonExESEhIRg9erV6NOnDwYPHozS0lLs2rULJSUl6NmzJ5o3b47t27frvZzK1i8+Ph6FhYUYMmQI7t27hw8++ADe3t64fPkypk6dipdffhmbN29+HpupVuGv9hKRoRQKBeLi4rSZ4Bkk8DSNkfLz84Onpyc2btyI5OTkx97fsGED0tLS4OPjo21r3LgxJk2ahBs3bmDdunVPnbeNjY3edTw6bWxsLH766ScEBgZCqSzrPsOGDUNYWBheffVVAIC/vz8mTJgAAFAqlbCzs0NaWlqVllPZ+q1fvx729vZo1qwZACAwMBAtW7ZEjx490KRJE/z+++96ryMREcnF0zRGSqFQIDQ0FBcvXkRwcDASExN13j916hQAoGHDhjrtXbt2BQCcPn26wnlXpY6HHT9+HABgb2+vbTMzM8OwYcO0f/bx8UF+fj5iYmKQl5eH4uJilJaWVmk5+q7fo59TKBSwtrbGrVu3Kl03IiIyDjwyYsQaNmyIlStXoqioCHPmzNF5r/yoRHp6uk57kyZNAPzv7pzq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"/&gt;&lt;/div&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A &lt;em&gt;message&lt;/em&gt; is a chunk of information which is being sent from one place to another - for example, an HTTP request. Messages can come from &lt;em&gt;somewhere else&lt;/em&gt;, such as an external service, or can be generated internally.&lt;/li&gt;
&lt;li&gt;An &lt;em&gt;action&lt;/em&gt; is some sort of processing which occurs as a result of the message. This could be something simple like incrementing a counter in memory. Alternatively, it could be much more complex - triggering a test and build process, for example. These can be native functions of Kinto, local executables, features from plugins, or just about anything else.&lt;/li&gt;
&lt;li&gt;A &lt;em&gt;result&lt;/em&gt;, as the name implies, is the outcome of the &lt;em&gt;action&lt;/em&gt;. A simple example would be the aforementioned in-memory counter, expressed as an integer, and wrapped into a nice JSON package. Alternatively, it could be the meta-data results from that theoretical build and test process (the possibilities are endless).&lt;/li&gt;
&lt;li&gt;Taken as a whole, &lt;em&gt;events&lt;/em&gt; can therefore be thought of as a cycle: a message is received, an action takes place, some work is accomplished, and a new message is generated.&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;A notification is the combination of an incoming message and the action which is subseqently triggered. The result, while related directly to the action, is not itself part of the notification.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It's a fine distinction that bears further explanation. The originator of the incoming message isn't necessarily concerned with what Kinto does with the data - in general, it's sufficient to know that Kinto has received the message and that it will be treated appropriately. In this way we can maintain simple promises between each of the components in the greater system.&lt;/p&gt;
&lt;p&gt;In any case, we'll explore some more terminology later - but for now let's move along.&lt;/p&gt;
&lt;h1&gt;How?&lt;/h1&gt;
&lt;p&gt;There are about as many ways to go about solving the problem as there are grains of sand on a beach (warning: previous statement may not be scientifically valid). The best way to determine the winning approach is simple: through single combat, &lt;a href="https://duckduckgo.com/?q=beyond+thunderdome&amp;amp;ia=about"&gt;Thunderdome-style&lt;/a&gt;. Unfortunately our manager put the kibosh on that plan for liability reasons, so instead we did the next best thing: we drew on a whiteboard.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Whiteboard (@leplatrem)" src="http://www.servicedenuages.fr/en/../images/notifications-whiteboard.jpg" style="width: 675px; height: auto; max-width: 100%;"/&gt;&lt;/p&gt;
&lt;p&gt;In the interest of absolutely transparency, here are some of the models that we worked through and our general observations on each.&lt;/p&gt;
&lt;h2&gt;The Simple&lt;/h2&gt;
&lt;p&gt;One approach is to be as &lt;a href="https://i.imgur.com/xZQitlj.gi"&gt;hands-off&lt;/a&gt; as possible. The premise here is straightforward enough: Kinto drops notifications into a queue (like Redis or RabbitMQ). That's basically it.&lt;/p&gt;
&lt;p&gt;&lt;div class="graphviz" style="align: center;"&gt;&lt;img src="data:image/png;base64,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"/&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;Pros:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;This model implies a highly limited scope insofar as Kinto is directly concerned; we would basically treat Kinto like a lightweight transport mechanism, and the queue as a fire-and-forget target.&lt;/li&gt;
&lt;li&gt;The amount of additional code would be relatively small - in essence, only just enough to speak to a queue service and nothing more.&lt;/li&gt;
&lt;li&gt;Depending on how active the community was, we would be able to support a reasonably large number of external queuing services.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Cons:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Each queuing service would require a dedicated module to be coded and maintained, the responsibility for which would likely fall to the community as part of the larger ecosystem.&lt;/li&gt;
&lt;li&gt;It's ultimately up to the final consumer (receiver, destination, whatever) of the message to deal with the queue. In other words, if the queue is RabbitMQ, then the consumer needs to able to speak RabbitMQ too.&lt;/li&gt;
&lt;li&gt;Kinto has no control, understanding, or insight into what happens once the message is handed off to the queuing service.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The simplicity of this model, while attractive, has some fatal flaws. Chiefly, it runs contrary to our guideline of tech agnosticism as it would impose a particular external service dependency on the &lt;em&gt;consumer&lt;/em&gt;. Furthermore, this model flirts with danger in terms of robustness as the fire-and-forget model isn't exactly optimised for reliability (not all queuing mechanisms are better than others, however).&lt;/p&gt;
&lt;h2&gt;The Integrated&lt;/h2&gt;
&lt;p&gt;We then considered what might happen if we were to swing the pendulum directly to the opposite of the spectrum from the previous solution. In this model, we would tightly couple the queuing service directly within Kinto and provide an API that the consumer could subscribe to.&lt;/p&gt;
&lt;p&gt;&lt;div class="graphviz" style="align: center;"&gt;&lt;img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAoMAAACYCAYAAACf4OP/AAAABmJLR0QA/wD/AP+gvaeTAAAgAElEQVR4nO3dd3wU1d4/8M9szWZTCRAIhBKMQJDyiICKgHSk1yAKiF5vEPXKtaD+sAsq8Ag8CihElI5C4CrNK4/GQtErKKIIgSgECJAQStgkm2Tr+f3Bs2MCKUuyu7Ob/bxfr3kRZqd8Z3bKd8/MOUcSQggQERERUTBKUykdAREREREph8kgERERURBjMkhEREQUxJgMEhEREQUxJoNEREREQYzJIBEREVEQYzJIREREFMSYDBIREREFMSaDREREREGMySARERFREGMySERERBTEmAwSERERBTEmg0RERERBjMkgERERURDT1GbmgoICXL582VOxEBER0TUkSUJcXBy0Wq3SoVAdVatk0GQyoaioyFOxEBERUQWKi4sRGRmpdBhUR/ExMREREVEQYzJIREREFMSYDBIREREFMSaDREREREGMySARERFREGMySERERBTEmAwSERERBTEmg0RERERBjMkgERERURCrVQ8kN6J169bsSqcKQghkZWWhuLhY6VDIC9RqtTxoNJpy/1epVFCpVJX+rVLV/jebw+GA0+mUh7L/d/3tcDjkwW63y387nU4P7AGiykmSBK1WC51OB51OB61WC41GU25Qq9VuLct17Nrtdnmw2WywWq2wWq2w2WwQQnh5i6isvXv3ok+fPrBarUqHEtR0Oh2+/vprdO/e/brPfJYMMhGsmutiSIFFo9HIN66y/7pubK6EryLX3pAkSfJanBUllBXdECuKQQgBh8MBm80Gu90Oq9Uq32Bd/9psNiaN5Ba9Xo+QkBB5MBgM0Gj+uhWVPS5rck7odLpql2Wz2VBaWlpusFgsN7wucs/Zs2dhtVqxceNGpUMJasnJyTh79myFn/ksGSQKRJIkyaUVrhILvV4PvV4PrVZb7gZzozcxbyZ/7nB3/ZIkyaUzwF/bee38DocDVqsVFoulXCmMxWKB3W73bPAUECRJgsFggNFoRGhoKIxGo/zDRAhR4THoyfOismW5frCFhYXJ0zidTpjNZpjNZhQXF6OkpIQliB42btw4pUOgSjAZJPo/Op3uulILnU4n3ywqS4JclE7ufKWy7VSr1TAYDAgJCbluOqfTeV0pTGlpKRwOh09iJt9Rq9UIDw9HREQE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R48exaxZszBlyhTs3LkTJpMJALBz504MHjwYiYmJmDVrFs6ePYs+ffogIyMD+/btw6ZNmzy2DKJgwZJBIiLyGpVKhQ0bNuDEiROYNm0aiouLAQBmsxkPP/wwCgsLsWXLFuh0Onme+fPno3fv3vif//kfTJw4EXfddReSkpIwceJE5OfnQ6VSIT09HSNGjMCnn36Kp59+Gnl5eVi3bh0iIiI8tgyiYCEJIYTSQRARkX9LTk4GAGzcuLFG8xcWFuL999/H7Nmz0bRpU5jNZvzjH/9ASkpKnUi+art/iBSUxsfERETkdeHh4Xj22Weh1+vxz3/+E1qtFj179qwTiSBRoONjYiIi8pnp06djwYIFUKlUGDJkCNv0I/IDTAaJiMinnnzySWRmZuLxxx/Hyy+/jGnTpmHJkiVKh0UUtPiYmIiIfK5Zs2Z45ZVX8MorrygdClHQY8kgERERURBjMkhEREQUxJgMEhEREQUxJoNEREREQYzJIBEREVEQYzJIREREFMSYDBIREREFMSaDREREREGMySARERFREGMySERERBTEmAwSERERBTEmg0RERERBjMkgERERURDTKB0AERH5P7VajU8++QSSJCkdit+69957lQ6BqEYkIYRQOggiIvJvJ06cwM8//6x0GH6tc+fOSEhIUDoMohuVxmSQiIiIKHil8Z1BIiIioiDGZJCIiIgoiDEZJCIiIgpi/x8cVDpXHjoSTQAAAABJRU5ErkJggg=="/&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;Pros:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Kinto could be shipped as a "turn-key" solution with a fully functioning stack baked right in; while there would be a queuing service involved (&lt;a href="http://www.celeryproject.org/"&gt;Celery&lt;/a&gt;, for example), it would be completely abstracted by Kinto.&lt;/li&gt;
&lt;li&gt;Since the queuing mechanism is integral, Kinto would have full visibility and control over processing and delivery.&lt;/li&gt;
&lt;li&gt;Apart from the queuing service there would be no additional services or software to deploy.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Cons:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;This would involve a fairly serious increase in the scope, complexity, and size of the Kinto code base.&lt;/li&gt;
&lt;li&gt;The tight coupling means that Kinto, in its entirety, would need to be re-deployed if changes were necessary in the queuing service.&lt;/li&gt;
&lt;li&gt;Similarly, scaling the queue would imply scaling Kinto itself&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This model has certain interesting advantages; however, the relative volume of additional code that would need to be developed is reason enough to give us pause (&lt;a href="https://en.wikipedia.org/wiki/Scope_creep"&gt;scope creep&lt;/a&gt; is a real problem). Like the previous model, this also runs afoul of our tech agnosticism guideline since we would be locking Kinto to a given queuing service directly. Finally, we have (admittedly theoretical) concerns about how this model would scale - it feels like a waste to increase two resources when only one needs to grow, for example.&lt;/p&gt;
&lt;h2&gt;The Broker&lt;/h2&gt;
&lt;p&gt;The final approach is a bit of a mix of the previous two. In this model, we implement a formal "broker" that is part of the Kinto &lt;em&gt;eco-system&lt;/em&gt;, but external to Kinto itself. The broker could be anything from a few lines of Python sitting on a &lt;a href="https://en.wikipedia.org/wiki/Named_pipe"&gt;pipe&lt;/a&gt; to a proper micro-service stack. This decouples the queuing mechanism from Kinto while preserving a strong &lt;em&gt;promise&lt;/em&gt; of interoperability and control.&lt;/p&gt;
&lt;p&gt;&lt;div class="graphviz" style="align: center;"&gt;&lt;img src="data:image/png;base64,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"/&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;Pros:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Provides a clean and easily understandable separation of responsibilities.&lt;/li&gt;
&lt;li&gt;Frees both Kinto and the consumer from any particular service dependency since the transport is pure HTTP between all the components.&lt;/li&gt;
&lt;li&gt;Permits the broker to scale independently from Kinto.&lt;/li&gt;
&lt;li&gt;Requires only a moderate amount of new code in Kinto itself.&lt;/li&gt;
&lt;li&gt;Effectively allows for a highly flexible solution where just about anything imaginable could be plugged in.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Cons:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The broker must speak HTTP and respond properly to a specification of our choosing.&lt;/li&gt;
&lt;li&gt;Functionally requires deploying and maintaining two services (the difficulty of which varies according the complexity of the broker).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We like this model because it satisfies most of our guidelines (and violates none). To be fair, the requirement for "robustness" is a little hand-wavey in this case. We are effectively handing the responsibility to another component; however, since interoperability is a promise, we can maintain an acceptable degree of confidence in the process.&lt;/p&gt;
&lt;p&gt;Another interesting aspect of this model is that by by decoupling the broker from Kinto, one can more easily introduce business logic that would be inappropriate within Kinto itself. A notable example of this is error handling - the manner in which we deal with, say, Balrog delivery issues isn't necessarily universal, and wouldn't make any sense outside of our particular use case.&lt;/p&gt;
&lt;p&gt;A final point worth mentioning here is that the broker could, in principle, be the &lt;em&gt;consumer itself&lt;/em&gt;, which fits into some of the potential use-cases at Mozilla quite nicely.&lt;/p&gt;
&lt;h1&gt;Roadmap&lt;/h1&gt;
&lt;p&gt;As you may have guessed, we've decided to go with the third option (The Broker). From here we have a plan to get from idea to reality, starting with a proof of concept, then through to a &lt;a href="https://en.wikipedia.org/wiki/Minimum_viable_product"&gt;minimum viable product&lt;/a&gt;, and then iterating through improvements until we get to something that's useful to a wider audience.&lt;/p&gt;
&lt;p&gt;Concretely speaking the proof of concept will require:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Defining the &lt;em&gt;types&lt;/em&gt; of events; functionally, this means specifying the behaviour and scope of &lt;code&gt;pre-&lt;/code&gt; and &lt;code&gt;post-&lt;/code&gt; patterns, as well as the structure of the payload.&lt;/li&gt;
&lt;li&gt;Construct a framework for synchronous internal Python events using &lt;a href="http://docs.pylonsproject.org/projects/pyramid//en/latest/narr/events.html"&gt;Pyramid events&lt;/a&gt; (something we have &lt;a href="https://github.com/spiral-project/daybed/blob/master/daybed/events.py"&gt;experience with already&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Implement a "listener" in Kinto for those events in order to execute an action.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;From there, we'll move on to the minimum viable product:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Build a minimalist HTTP service that receives a notification via an HTTP &lt;code&gt;POST&lt;/code&gt;, performs an action, and communicates the result to Balrog directly.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Once the model is validated we'll begin the iterative improvement process. This will likely take the form of a "standard broker" which we create and maintain as part of the formal ecosystem. We also like the idea of subscribers registering themselves to the broker using an endpoint (such as webhooks), but that's a discussion for future time.&lt;/p&gt;
&lt;h1&gt;Feedback&lt;/h1&gt;
&lt;p&gt;As always, we're interested in feedback from the community - feel free to use the Disqus form below to join the conversation!&lt;/p&gt;</summary></entry><entry><title>Les notifications dans Kinto (Prambule)</title><link href="http://www.servicedenuages.fr/en/../notifications-kinto-preamble" rel="alternate"></link><updated>2015-08-13T00:00:00+02:00</updated><author><name>Service de Nuages</name></author><id>tag:www.servicedenuages.fr,2015-08-13:en/../notifications-kinto-preamble</id><summary type="html">&lt;p&gt;Lors de notre dernire &lt;em&gt;workweek&lt;/em&gt; dans l'adorable ville de
&lt;a href="https://www.qwant.com/?q=Douarnenez&amp;amp;t=images"&gt;Douarnenez&lt;/a&gt; nous avons
dfini les fondations de la prochaine fonctionnalit de
&lt;a href="https://kinto.readthedocs.org"&gt;Kinto&lt;/a&gt; : &lt;em&gt;les notifications !&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Coucher de soleil sur Douarnenez (@phrawzty)" src="http://www.servicedenuages.fr/en/../images/notifications-douarnenez.jpg" style="width: 800px; height: auto; max-width: 100%;"/&gt;&lt;/p&gt;
&lt;h1&gt;tl;dr&lt;/h1&gt;
&lt;p&gt;Pour les presss, un petit rsum : Nous allons ajouter
un systme de "notifications"  Kinto, sans perdre de vue la
simplicit et la flexibilit. Notre objectif est de
proposer un protocole qui permette  d'autres systmes de se brancher
trs simplement sur les notifications d'vnements de Kinto.&lt;/p&gt;
&lt;h1&gt;Pourquoi ?&lt;/h1&gt;
&lt;p&gt;La rponse la plus simple est que nous en avons besoin. Nous
avons une plateforme appele &lt;a href="https://wiki.mozilla.org/Balrog"&gt;Balrog&lt;/a&gt;
qui fait partie du systme de mise  jour utilis par Firefox et par
d'autres produits Mozilla.&lt;/p&gt;
&lt;p&gt;Dans l'ide d'amliorer et d'tendre le processus de mise  jour (sous
la houlette du projet "&lt;a href="https://wiki.mozilla.org/Firefox/Go_Faster"&gt;Go Faster&lt;/a&gt;"),
nous avons besoin de stocker et de transmettre de petits blocs d'information 
la fois entre des systmes internes mais aussi avec l'ensemble de nos
utilisateurs.&lt;/p&gt;
&lt;p&gt;Kinto rpond parfaitement au besoin, mis  part en ce qui concerne la
notification des utilisateurs lors d'une mise  jour.&lt;/p&gt;
&lt;p&gt;Aucun problme. Il ne reste plus qu' ajouter la fonctionnalit.&lt;/p&gt;
&lt;h2&gt;Mais attention  ne pas oublier une petite chose !&lt;/h2&gt;
&lt;p&gt;Bien sr, Kinto est un projet Mozilla - mais il a t conu comme une
solution gnrique, ce qui veut dire que tout ce que nous ajoutons
doit rester raisonnablement gnrique.&lt;/p&gt;
&lt;p&gt;C'est pourquoi nous avons souhait proposer une solution rutilisable
dans diffrents contextes ; nous sommes une organisation qui construit
avec et pour le web c'est pourquoi la solution que nous proposons est
avant tout oriente web.&lt;/p&gt;
&lt;p&gt;En faisant le tour des paramtrages qu'une solution raisonnablement
gnrique devrait proposer, nous avons dfini les exigences suivantes
pour notre systme de notifications :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;S'efforcer d'tre agnostique autant que possible, c'est--dire ne
  pas forcer les dveloppeurs  utiliser une solution
  spcifique. (service, backend voire mme langage de programmation)&lt;/li&gt;
&lt;li&gt;Puisque nous sommes orient web, utiliser le protocole HTTP ds que possible.&lt;/li&gt;
&lt;li&gt;Le systme de notification doit tre capable de passer  l'chelle
  facilement ; cela s'applique  tous les ventuels systmes de
  queuing, workers, etc.&lt;/li&gt;
&lt;li&gt;Pour finir ce doit tre un systme robuste, nous ne souhaitons pas perdre de messages.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Qu'est-ce que nous essayons de faire ?&lt;/h1&gt;
&lt;p&gt;Avant de rentrer dans les menus dtails, prenons un moment pour
dcrire ce que nous essayons de faire - sur le papier, au moins, c'est
assez simple :&lt;/p&gt;
&lt;p&gt;&lt;div class="graphviz" style="align: center;"&gt;&lt;img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAiUAAAC4CAIAAACzaAsIAAAABmJLR0QA/wD/AP+gvaeTAAAdXElEQVR4nO3de1xM+f8H8PfMVIjuN7ks8m0j64HvIqXWWhUisVSbzZKQ67ptPdhcfkpoSSGW8P2iYkse8fW1yGXdcr9+o1zW16SLSqKbMmbm/P44v998+3aZZlLnTPV6/uHhnPnM57znfDrnNecyMwKGYQgAAKCJCfkuAAAAWgXkDQAAcAF5AwAAXEDeAAAAF5A3AADABeQNAABwAXkDAABcQN4AAAAXkDcAAMAF5A0AAHABeQMAAFxA3gAAABeQNwAAwAXkDQAAcEFLrdZJSUm7du1qolIAAKAZ6d2799atW1VvL1Dr92+8vLyuXbtmb2+vfmEAANByZGVlXb9+Xa0EUe/4hojs7e0TExPVfRYAALQkiYmJ3t7eaj0F128AAIALyBsAAOAC8gYAALiAvAEAAC4gbwAAgAvIGwAA4ILa90MDtACbNm0KDw8vLCwUCoUjRozQ0dFhGKaysvLZs2dZWVmZmZmfffYZ3zUCtDTIG2iNfvrpp2nTppmZmVlZWaWkpCjmy+XycePGffz4sSkWmpWV1bVr16boGaBZwPk0aKVMTU2JSCQSVZ0pFAqXL1/eoUOHRl/cixcvJk+e3OjdAjQjOL4B+I+MjIwBAwbo6uo2brfZ2dljx46VyWSN2y1A84LjGwAiIrlcnp+fv2DBgpKSEiI6ceKEsbGxQCBYuXIl2+DXX38ViUQxMTFEVFZWtnbtWj8/v4EDBzo7O6elpTEMc+zYsVmzZnXu3LmgoGDChAn6+vqDBw9OS0sjon379qWnp+fl5c2ePZvH1wjAM0Ydnp6enp6eaj0FQGPVukW8evWKfZT94tvjx4+zk2Kx2MfHh2EYuVw+ZcqUjIwMdr6Li4u5ufm7d++ysrLYE3EhISFisfjEiRNE5ODgoFiWjY0N5y8RoKkkJCSomyA4voFWTZEBMpns1atXjo6OiocCAgK6du26c+dOdnL37t2BgYFElJqaGhsb27t3b4FAIBAIzpw5U1BQcPny5S5dunTq1ImIVq5c2a1bt9GjR1tYWNy+fZuX1wWggZA3AEREQqGwY8eOixcv1tbWZufo6OgsXLjw999///PPPyUSyZMnTwYMGEBEt27dsrW1rfbGbezYsUQkEAgUHQoEAkNDQ4lEwsvLAdBAyBuA//j2229NTExKS0vZa/szZsxo3759dHR0cnKyp6cn26asrOzFixfl5eVVn4h7AQDqhbwB+C8Mw/j6+rJHKgYGBjNmzPj73/+emJg4YcIEtoGtrW1FRUV4eLjiKenp6dHR0fX2LJVKm6hmgGYB90NDK1VWVkZEHz58qDqzsrIyODi4TZs2QuH/vRX78ccft27dOmDAAMV5Nnd3d2tr69DQ0JycnG+++SYjI+PmzZtJSUns04mIYRg2rkpLS4lIIpHo6OhYWlrm5uY+ePCgX79+HL5KAA2C4xtoja5evTpv3jwiEovFvXv3Hjly5JgxY5ycnMzMzDZv3uzs7Kxo2aNHjwULFsyZM0cxR0dH59y5cx4eHsnJyUuXLi0oKIiPj9fX19++fXtmZiYRhYaGFhcXR0VF5ebmElFwcHBFRcW6devatm17+PBhzl8rgKYQMOr8+rSXlxcR4fekAQBaOfb3pNVKEBzfAAAAF5A3AADABeQNAABwAXkDAABcQN4AAAAXkDcAAMAF5A0AAHABeQMAAFxA3gAAABeQNwAAwAXkDQAAcAF5AwAAXEDeAAAAF5A3AADABeQNAABwAXkDAABcQN4AAAAXkDcAAMAF5A0AAHBBq3G7Ky8v//DhQ+P2CdB0OnTooKOjw3cVAK1CI+eNWCxmGKZx+wRoOgYGBl27duW7CoBWoZHPpyFsAACgVrh+AwAAXEDeAAAAF5A3AADABeQNAABwAXkDAABcQN4AAAAXkDcAAMAF5E39Tp06NXHixL59+44fP76yslIx//r16wEBAX379vX29j516pS63U6ePDkiIqLqnKSkpG3btvn5+X3//ff//ve/azb4FI3bGwCAupA39Rs1atT+/fuJ6Pnz5+Hh4Yr5Q4YMWb16NRGFh4ePGjWq3n7y8vKqTpqYmBgYGCgmExISfvnll7lz527dutXMzKy8vLxaA3UpXxwAAMca+ftsWqoOHToQ0V//+tekpCQ7OztFupibmxNR586d6+0hJyfn559/ZnOLtW3btqoNDh48aG5uLhKJ9PT0oqKiajZQS72LAwDgGI5v1LBp0yZTU9M1a9ZkZ2ezc7S0tIhIW1tb+RPz8/PnzZtXVFSkpE1ubq5AIGiUOlVZHAAAx3B8owYzM7OIiAg/P7/AwMADBw7UjJmysrJdu3YJhUKpVPrs2TNra+uAgAB9ff2jR48+f/68Q4cOISEhq1atksvlZ86cuXTpUnZ29v79+y9evHjx4sXKysrCwsKQkBAiWrJkSWpqqqIBEVVWViYkJDx79kxPT+/BgwcjRozw8/MTCoWZmZmbN2/u0aNHXl5eXl7e8uXLbWxslC+urjr19PQuXLhw6dKlS5cuHT58eM2aNTdu3OjRo0dISIi1tTX3axsAWhiBWt+w6eXlRUSJiYl1NXj48GEjFKWR+vbtm5aWRkQHDhzYuHHj1KlTf/rpp6rzy8vLvb293dzc5s6dS0RFRUU//PCDVCo9fPiwnp5e3759u3fvfvz4cba34uJiR0fHqnOUNJDJZHPmzDExMQkLCxMKhUlJSWvWrNm6devw4cPHjh0rk8lOnjwplUqdnJzMzc2PHTumvLe66kxMTKyoqBg3btz79+/nz5/v7u7+/PnzuXPn9u/fPzY2lstVzSV8PzRAwyQmJnp7e6uVIDifprYpU6a4urru37//8uXLVefv3bs3MzPT09OTnTQ2Np41a1ZOTs7u3btrdqKvr698KVUbxMfHX7t2LSAgQCgUEtH48eNDQ0O//PJLIpo6daq/vz8RCYVCQ0PDzMzMenurq849e/ZYWFiYmZkRUUBAQKdOnRwdHU1MTB49elTPGgEAUAHOp6lNIBCEhIQ8e/YsODg4KSlJMf/evXtE1L59e8WcgQMHEtH9+/dr7aTepSj+f+PGDSKysLBgJ7W0tMaPH8/+39PTs6ysLC4urrS0VCKRyGSyentTXmfVlgKBQE9P782bN8pLBQBQBY5vGqJ9+/aRkZGVlZXLli1TzGQPPnJzcxVzTExM6P/vbfsU7969I6Jaj13u3r3r4eHRrVu3OXPm6OrqqtJb09UJAKAE8kYlcrlc8S+rZ8+eoaGht27dUsxhT3BdunRJMYf9BIy9vT07WdfBR7369OlDRLt371YUkJubm5KSQkQrVqwQCAROTk6K8hSnU+taXL11AgA0BeSNSthzStXOLI0cOXLKlCmKyenTp//lL3+Jj49//fo1O+fQoUMDBgyYPHkyEZmZmRUUFDx58oR9qLy8nIjev3/PTn78+JGIpFKporeqDWbOnKmvr5+SkjJz5sxDhw5FR0eHhISwGVNcXPz69et79+4dOXKktLSUiNLS0vLy8pQsTnmdEomEqoQW+xS2PACATyH6n//5H9VbHz58mIgUl5prKigo+PSaNM3Zs2d37Njx8uXLFy9eWFpaWlpaKh6ys7O7efPmhAkTiEhLS8vd3b2kpCQxMfHx48c3btzQ19dfvXo1e9u0oaHhjRs32rVrZ2dnV1FRERMTc+/evfLycj09PaFQeOTIkTt37pSWlhoYGOjq6rZr165qg759+44bN66goCA9Pf369eumpqYrVqxgbwEwNja+ffv2vXv3xo0b17Nnz/v372dmZo4aNcrS0rKuxdnY2EycOLHWOg8dOvT7778TkVAo7NWrV0JCAnsU9eHDhy+//JL9sFEL07ZtW3ztAkADPHr0KCkpSa0Ewf3Q0KrhfmiAhsH90AAAoKGQNwAAwAXkDQAAcAF5AwAAXEDeAAAAF5A3AADABeQNAABwAXkDAABcQN4AAAAXkDcAAMAF5A0AAHABeQMAAFxA3gAAABeQNwAAwAXkDQAAcAF5AwAAXEDeAAAAF5A3AADABeQNAABwQYvj5XXs2NHU1JTjhXKvsLAwLy+P7ypUpaur26NHD4FAwHchje/jx49PnjzhuwpVBQUFbdy4ke8qmpCOjs758+eHDh3KdyEqSU1N/eabbyQSCd+F8KbRx4vrvNHW1uZ4ibxoXi9TW1u7RYYNNbeBEIvFQ4YMWbJkCd+FNBUvL6+cnBy+q1BVTk6ORCJJTEzkuxDeNPp4cZ03AKBE165dPT09+a4C/gPD0Yhw/QYAALiAvAEAAC4gbwAAgAvIGwAA4ALyBgAAuIC8aR4KCgqSk5OXLl36/fff811L6yWXyyMjI/v06dOhQ4dBgwYlJCQwDMN3Ua3a7du3R4wYoaen16lTp5kzZxYWFvJdESiDvGkezM3NR4wYkZKSUlJSwnctrdfixYvv3Lkzd+5cf3//hw8ffvfdd3v37uW7qNbr/v37a9euXbNmzaVLl4YPH75nz55p06bxXRQog8/fNBv6+vp8l9CqicXi169fHzx4kJ0cM2bMyJEjN23aNGPGDH4La7XOnz9/8OBBXV1dItq3b9+JEycuXrzId1GgDPIGQCXZ2dmbN29WTLq4uJiamjajT8u3PNW+iEEqlfr6+vJVDKgCeQOgEkdHx2pzJBKJg4MDL8VAVXK5fNWqVREREbNmzeK7FlAGeQPQEKmpqZWVlSEhIXwX0tolJydHRkZevny5W7duDMMEBAS01C8DbAGQNwBqk0qly5Yti4mJsbOz47uW1u7rr7+2sbE5f/58UFDQnDlztLW1/f39+S4Kaof70wDUtmrVqmHDhk2dOpXvQoCMjIxsbW3nz5+/a9cuIoqNjeW7IqgT8gZAPUePHm3btu3atWv5LgT+i4eHBxG1b9+e70KgTsgbADWcOnUqOzt71apViosEly9f5rekRpSfn5+QkBAWFsZ3IQ2Rm5tLRO7u7nwXAnXC9Zvq7OzsvvrqKw38mcWKigoiahkfaNfYlazcmTNnwsPDJ06cGB0dTURyufzJkycGBgZOTk58l9YIMjIyoqOjd+zYYWNjExwczHc59YuIiDA2Np44caK+vn5FRUVgYOD06dMDAgL4rgvqhLypzsLCwtjYmO8qqrt58+Y///lPIsrJyTlw4MDgwYN79epV77NSUlLS09Pd3Nw+//zzpq9RmaysrK5duyomNXMlK3f16lUPD4+KiooLFy5Unf/8+XPlT3z69OnmzZs9PDxcXFy0tDR3i+vdu3dERMSOHTuqzqw2cHVRsVnjKioq2rJlS1BQkK+vr7a2dnBw8JAhQ1R54rp163R0dLy9vbmvWRPwMlgszf3r58s//vEPvkuoxeDBgwcPHqzu3bcnT548e/bs3r17u3fv7u7u7ubm1qVLlyaqUIkXL1788MMPVc87aeZKVs7BweH9+/cNeOKVK1d27dq1a9cuIyMjHx8fHx+foUOHauY9u23btq06WXPgaqVis0YXFhbWsFN/UVFRr1+/DgoKcnBw8PX19fT0NDExafTyNBNfg8XC9ZtWQSwW79y5c/To0WPHjt2xY0dWVhZni87Ozh47duzr1685W6IGEolERPT27du9e/c6OTkZGRkFBARcuXJFk8+OqjhwzXd8GYa5evXqggULzMzM7O3tt2zZ0hxfhVp4HyxNzJvy8vK4uDgfHx8HB4ekpKROnToNHjz48ePH9+/fd3V1NTAwGDRoUHp6uqJ9enq6q6trcHBwYGCgUCgsLS0lIoZhNm/e7OPjM3v27DZt2gj+n5LlymSyxMTEqVOnfvXVVwzDHDt2bNasWZ07dy4oKJgwYYK+vv7gwYPT0tKa/PU3jY8fPxLRy5cvd+/e7ebm5unpGRcX9+bNmwZ09fTp0wkTJixfvtzX13fYsGEPHjxg579//z4iIsLPz2/RokV2dnYbNmyQy+X79u1LT0/Py8ubPXs2/fdKZp9VXFwcGBi4bNmyJUuWuLq6Llmy5O3bty1v/bM+fPhARMXFxfv27XNycurSpcvChQvv3r2r4tNlMtmFCxcWLVrUvXv33NzcYcOGffbZZ0VFRWVlZWvXrvXz8xs4cKCzs7NiLdXcNHbt2qXYEEpKSiIiIuraLqoNHNUx7jWbNSMMw0ilUoZhbt26tXTp0s6dO48ZM+bAgQNlZWUq9sDXzorq2HCISMkQ8z9YjDo8PT09PT2VNEirz7t37+pdikwme/r0KREZGhqePn365cuXRNSzZ88NGza8e/fu/v37ROTq6qpob2tra2xsLJfLGYbx8PDIz89nGCYqKkooFBYWFjIMs337diJavHhxvYtm9782NjZyuTwrK6tDhw5EFBISIhaLT5w4QUQODg71dsIwzLt37+pdFRxwdnaua9yFQqFIJBIKhf369duwYUNxcbEqr4tlbW1tZWXFMIxEIjEwMOjduzfDMB8/fnRxcfH19ZXJZAzDxMTEENHRo0cZhmFXac2VzDBMSUmJtbX16tWr2Yfy8/Otra179OhRVFT0Keu/KuWr6OXLl+p2qK69e/eyxze1atOmDRF9/vnnq1evHj16tPLtq7KyMjU1lT3rtX79+jNnzvj7+5eUlEyZMiUjI4Nt4+LiYm5uzg5orZuGlZVV1Q2/2mTVwao2cLWOe81mShAR+yMO/DIzM6trOLS1tYVCoY6OzqRJk4KCgurdQ/K1s6prw2HfqykZYtUHi6lvvBISEtRNEE3MG4Zh5HJ51fXCXnVQPGphYWFkZKSYNDU1JaLIyEiZTPavf/2L3dJGjhwpEAg+fPjAMEx+fj4RDRkyRN3lspfZFQ9ZWFjo6OioUr+GnA5m92Wq6Nmzpyqvi7Vz586YmBiGYWQymZWVlZaWFsMwERERRPT48WO2jUQi+dvf/lZUVMTU+BOvupJ//vlnIsrNzVU8un//fiIKDAz8lPWvkJiY2ETrVnVGRkZK8obFvv0UCAQjR46s90VZW1sT0Zs3b9jJWs/FHz9+nKlj07CxsaEqW1O1Sao7b2od95rNlGjcFdtg7dq1U71xvS+Kl52V8g1HyRATr3mjofcLVDuWrPYZLkNDwydPnigmf/3112nTpi1evDguLi46Opr93n4HB4fTp0+fOHFiwoQJ7GGmi4uLusutOikQCAwNDdm/hnpFR0eznwbgV2xsLPsOq1ZaWlpyuVwkErm6uv7444+qdxsQEFBcXLxly5Z37959+PBBKpUS0fnz54lIcT+Ctra2n59frU+vulZTU1OJSE9PTzGHPc929epV+oT1r2Bvb88GYV10dXWb+s3BlStX2DettWIPNKVSqZ2d3cePH9lDOuWEQiERKW7wu3Xrlq2t7aNHj2q2rHXTaLBax11dixcvtre3/5QyPl1AQAD76YJa6ejoSCQSIyOjQYMGpaSk1NsbLzsr5RuOxtLQvFHLpEmT+vXrN2fOnHPnzjk6OsbExEyfPn3lypWdOnXy9/e/evXqn3/+uX79+sDAQM5KGj16NJfX5Oty8uTJmjNFIhHDMFpaWs7OzqNHj7a3tzc3N1fr/sjLly/7+PjExMS4ubkdOnSIncmeJXv27Fn//v1V74rddYrF4i+++IKdY2FhQUQGBgaqd6JEly5dXF1dlTQwMDBo6ntD2XP0NWlpaclkskGDBk2fPn3ixIkmJiZeXl4N6L+srOzFixfl5eVV93QymUwkEtW6aTTwZdQx7uoaMmSIp6dng2toFPPmzas5U0tLSyqVGhoaTpkyxcvLi70eo0reqKWxdlZNveE0EU28X0BdYWFh1tbWZ8+ePXjwoEwmW7lyJRHJZLKHDx9ev35948aNycnJy5Ytq/ecRssmFArZt9IODg6hoaEXL14MDw//+uuvVT/npuDn5ycQCNzc3IhIJpMREcMwAwcOJKKwsDD29AIRicXiw4cPs/+v670w+6aMvTbDYnNalYPRZkpHR4eIvvjii02bNonF4uvXr8+aNetTjrFsbW0rKirCw8MVc9LT09lPpNa6abDvxysrK9nGEomE6v4ccdWBq3XcazZrXkQikUAgaNeu3XfffXfmzJnCwsKtW7c6OjqyO/RG11g7K+UbjvIh5nGwNDRv2Nt4FCuIvbdKcdMI+yj7F09EkZGR7B1+3t7ehoaG3bp1I6J169YdP3788uXLp06dunr16pMnT9iVrhz7VlSxIHbAFGWwj6rSj0ZhE8XKymrhwoUnT57csWPHuHHjVDlvU5eioqLc3NzU1NQ9e/YUFxcT0c2bN6dMmWJkZJSUlOTs7Lx9+/aVK1fOnj2b3TdZWlrm5uYqbmOrupKDgoL69Omzbdu2V69esY9u37596NCh8+fPp5ay/olILpezF/nNzMxmz5597dq1tLS0hQsXfvbZZw3ojf37V+w13N3dra2tQ0ND/f394+PjV6xYsWjRIvZkZq2bhq2tLRGFhoY+e/YsOjqaHcHTp0/LZDL2A0aK/VS1gat13LOysqo1axaEQiF7a4CTk9Pu3btzcnJiY2OdnZ0b8K6Ul52V8g1HyRDzO1iamDf5+fns12mIxeKzZ8+ePn06MzOTiIKDg9+8eRMdHS0Wi4koIiKisLCQiN68ecN+FnLhwoXDhg377bffiMje3r6srGzGjBmjR48eOnRor169OnbsGB8fr2S55eXl69atI6KcnJyoqKj169ezyw0NDS0uLo6KimIvyQQHBys5+atROnbsaGlpOW3atKNHjyYnJ0+fPt3S0vLTu920aZOBgcG8efNsbGzWrFljZGS0atUqKyurO3fuTJo0KSMjY9WqVVlZWQcOHGDP8Kxbt65t27bssU61lSyVSq9duzZ58uSpU6cuXbo0KCjIzMzs3LlzWlpa27dvb+7rn9WlSxcDAwMfH58zZ868evVqy5YtKn4Mvqby8vLQ0FD273/p0qX37t0jIh0dnXPnznl4eCQnJy9durSgoCA+Pp69MFDrphERETF8+PCoqChfX19HR0dbW1tfX9+3b98+ffp02bJlRJSZmRkZGfn27duqA0d1jHu7du2qNdN83bt379+//y+//JKdnf3HH3/4+/sbGRk1rCu+dla6urp1bThU9xBLpVJ+B0tQ13F0rdjzy0ru+Xn48KHyHrp27crNGca4uLjCwsJFixYRkVwuz83N/eOPPxYvXsyOelMrLi7WhOs3KuLgGgaPlP9NatRrr3f7au4EAkFCQkLDLlNxLzEx0dvbW609ZMPwu7NSQvl4NWD9tIT7BWoKCQlZvXp1UVEROykUCrt06eLg4NCzZ08ln6LKyMhQ5UvJAAAaS6vaWWni+bRPd+XKFSKKjIxUXAC4devW8uXLY2Njldwb3hzHDwCatVa1s2qZeRMbGzt37ty4uLhOnTo5OTlNmjTp7t27cXFxvH9NMgBAVa1qZ9Uyz6dZWFgo+YQdAICGaFU7q5Z5fAMAAJoGeQMAAFxA3gAAABeQNwAAwAXkDQAAcAF5AwAAXEDeAAAAF5A3AADABeQNAABwAXkDAABcQN4AAAAXkDcAAMAF5A0AAHChZX4/NKiFg18wBFWIRKLffvtNya9stQDsDx43CyKRiIha9nDUq3HHi+uxz8/PLykp4Xih3KuoqOC7BDWUlpa+fPmyRW5XUqmU7xLUEBYW9u233/JdRRMSiURubm58V6GqMWPGHDlyRCaT8V0Ibxp9vLjOG4lEIpFIOF4oKMcwTGt4E6D5rKysrKys+K4C/k/btm1bdvxzD9dvAACAC8gbAADgAvIGAAC4gLwBAAAuIG8AAIALyBsAAOAC8gYAALiAvAEAAC40ct40oy+rACAibW1tvksAaC0aOR569erVuB0CAEDLgPNpAADABeQNAABwAXkDAABcQN4AAAAXkDcAAMAF5A0AAHABeQMAAFxA3gAAABfU/rznpUuXXFxcmqIUAABoLvLz89V9inp54+npqe4CAACg5TEyMlL32EPAMEwTVQMAAKCA6zcAAMAF5A0AAHABeQMAAFxA3gAAABeQNwAAwAXkDQAAcAF5AwAAXEDeAAAAF5A3AADABeQNAABwAXkDAABcQN4AAAAXkDcAAMAF5A0AAHDhfwH/jY1oLtvw7wAAAABJRU5ErkJggg=="/&gt;&lt;/div&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Un &lt;em&gt;message&lt;/em&gt; est un morceau d'information qui est envoy d'un
  endroit  l'autre - par exemple, une requte HTTP. Les messages
  peuvent venir d'autre part, comme par exemple d'un service externe,
  ou tre gnrs en interne.&lt;/li&gt;
&lt;li&gt;Une &lt;em&gt;action&lt;/em&gt; est un processus qui est dclench en fonction du
  message. a peut tre aussi simple qu'incrmenter un compteur en
  mmoire. a peut aussi tre quelque chose de plus complexe comme par
  exemple dclencher une suite de tests. a peut aussi tre excuter
  une fonctionnalit de Kinto, un programme local, une fonctionnalit
  ajoute par un plugin ou tout autre chose.&lt;/li&gt;
&lt;li&gt;Un &lt;em&gt;rsultat&lt;/em&gt;, comme son nom l'indique, est ce qui rsulte de
  l'&lt;em&gt;action&lt;/em&gt;. Un exemple simple pourrait tre la valeur du compteur,
  dont nous avons parl tout  l'heure, sous la forme d'un entier dans
  un paquet JSON. Mais a peut galement tre le rsultat de la suite
  de tests (les possibilits sont sans limites).&lt;/li&gt;
&lt;li&gt;Pris dans leur ensemble, les &lt;em&gt;vnements&lt;/em&gt; peuvent tre vus comme un
  cycle : un message est reu, une action a lieu qui gnre un nouveau
  message.&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Une notification est donc la combinaison d'un message et d'une
  action dclenche suite  un vnement. Le rsultat, bien que
  directement li  l'action ne fait pas partie de la notification.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Cette petite distinction ncessite une explication. L'instigateur du
message n'est pas forcment concern par ce que Kinto va faire avec.&lt;/p&gt;
&lt;p&gt;En gnral, il est suffisant de savoir que Kinto a reu un message et
qu'il sera trait. Cela permet de bien dcoupler les diffrents
lments du systme.&lt;/p&gt;
&lt;p&gt;Nous allons continuer  explorer le sens des termes par la suite. Pour
le moment, continuons.&lt;/p&gt;
&lt;h1&gt;Comment ?&lt;/h1&gt;
&lt;p&gt;Il y autant de manire de faire qu'il y a de grains de sables sur la
plage (ceci dit, nous ne l'avons pas vrifi de manire
scientifique). Le meilleur moyen de dterminer l'approche gagnante
reste le duel ( la Mad Max). Malheureusement notre manager a mis son
vto sur ce moyen pour des questions de responsabilit,  la place
nous avons prfr faire des dessins sur un tableau blanc...&lt;/p&gt;
&lt;p&gt;&lt;img alt="Whiteboard (@leplatrem)" src="http://www.servicedenuages.fr/en/../images/notifications-whiteboard.jpg" style="width: 675px; height: auto; max-width: 100%;"/&gt;&lt;/p&gt;
&lt;p&gt;Dans un esprit de transparence, voici quelques unes des solutions tudies :&lt;/p&gt;
&lt;h2&gt;L'approche simple&lt;/h2&gt;
&lt;p&gt;La premire approche et de pousser chacune des notifications dans une
file d'attente (dans Redis ou RabbitMQ par exemple) et c'est tout.&lt;/p&gt;
&lt;p&gt;&lt;div class="graphviz" style="align: center;"&gt;&lt;img src="data:image/png;base64,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"/&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;Avantages:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ce modle impacte peu Kinto, Kinto passe simplement le message  la
  queue et l'oublie immdiatement.&lt;/li&gt;
&lt;li&gt;La quantit de code est assez faible - il ne ncessite que le code
  ncessaire pour parler au systme de queue.&lt;/li&gt;
&lt;li&gt;Si la communaut Kinto est active il serait possible d'tendre
  rapidement le support  un nombre raisonnable de service externes de
  files d'attente.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Inconvnients:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Chaque service de queue ncessirait un module spcifique  coder et
  qui devrait tre maintenu par la communaut.&lt;/li&gt;
&lt;li&gt;L'utilisateur final (destinataire, destination ou autre) du message
  serait responsable de l'intgration avec le protocole du systme de
  queue.  Autrement dit, si Kinto est configur pour utiliser
  RabbitMQ, il faudra que le consommateur des messages parle RabbitMQ
  galement.&lt;/li&gt;
&lt;li&gt;Kinto n'a aucun contrle ni comprhension de ce qui arrive au
  message une fois qu'il a t pass au systme de queuing.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;La simplicit du modle, bien qu'attractive, possde des dfauts
importants. Notamment, il va  l'encontre des rgles que nous nous
sommes fixes du point de vue d'tre agnostique techniquement
puisqu'il impose une technologie au consommateur des messages.&lt;/p&gt;
&lt;p&gt;C'est un modle un peu dangereux car il n'y a aucune garantie que les
messages arrivent  leur destinataire (bien que tous les systmes de
queue ne soient pas tous logs  la mme enseigne  ce sujet).&lt;/p&gt;
&lt;h2&gt;L'approche intgre&lt;/h2&gt;
&lt;p&gt;L'approche oppose est d'intgrer le systme de queue directement dans
Kinto et de proposer une interface sur laquelle le consommateur puisse
s'enregistrer.&lt;/p&gt;
&lt;p&gt;&lt;div class="graphviz" style="align: center;"&gt;&lt;img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAoMAAACYCAYAAACf4OP/AAAABmJLR0QA/wD/AP+gvaeTAAAgAElEQVR4nO3dd3wU1d4/8M9szWZTCRAIhBKMQJDyiICKgHSk1yAKiF5vEPXKtaD+sAsq8Ag8CihElI5C4CrNK4/GQtErKKIIgSgECJAQStgkm2Tr+f3Bs2MCKUuyu7Ob/bxfr3kRZqd8Z3bKd8/MOUcSQggQERERUTBKUykdAREREREph8kgERERURBjMkhEREQUxJgMEhEREQUxJoNEREREQYzJIBEREVEQYzJIREREFMSYDBIREREFMSaDREREREGMySARERFREGMySERERBTEmAwSERERBTEmg0RERERBjMkgERERURDT1GbmgoICXL582VOxEBER0TUkSUJcXBy0Wq3SoVAdVatk0GQyoaioyFOxEBERUQWKi4sRGRmpdBhUR/ExMREREVEQYzJIREREFMSYDBIREREFMSaDREREREGMySARERFREGMySERERBTEmAwSERERBTEmg0RERERBjMkgERERURCrVQ8kN6J169bsSqcKQghkZWWhuLhY6VDIC9RqtTxoNJpy/1epVFCpVJX+rVLV/jebw+GA0+mUh7L/d/3tcDjkwW63y387nU4P7AGiykmSBK1WC51OB51OB61WC41GU25Qq9VuLct17Nrtdnmw2WywWq2wWq2w2WwQQnh5i6isvXv3ok+fPrBarUqHEtR0Oh2+/vprdO/e/brPfJYMMhGsmutiSIFFo9HIN66y/7pubK6EryLX3pAkSfJanBUllBXdECuKQQgBh8MBm80Gu90Oq9Uq32Bd/9psNiaN5Ba9Xo+QkBB5MBgM0Gj+uhWVPS5rck7odLpql2Wz2VBaWlpusFgsN7wucs/Zs2dhtVqxceNGpUMJasnJyTh79myFn/ksGSQKRJIkyaUVrhILvV4PvV4PrVZb7gZzozcxbyZ/7nB3/ZIkyaUzwF/bee38DocDVqsVFoulXCmMxWKB3W73bPAUECRJgsFggNFoRGhoKIxGo/zDRAhR4THoyfOismW5frCFhYXJ0zidTpjNZpjNZhQXF6OkpIQliB42btw4pUOgSjAZJPo/Op3uulILnU4n3ywqS4JclE7ufKWy7VSr1TAYDAgJCbluOqfTeV0pTGlpKRwOh09iJt9Rq9UIDw9HREQE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R48exaxZszBlyhTs3LkTJpMJALBz504MHjwYiYmJmDVrFs6ePYs+ffogIyMD+/btw6ZNmzy2DKJgwZJBIiLyGpVKhQ0bNuDEiROYNm0aiouLAQBmsxkPP/wwCgsLsWXLFuh0Onme+fPno3fv3vif//kfTJw4EXfddReSkpIwceJE5OfnQ6VSIT09HSNGjMCnn36Kp59+Gnl5eVi3bh0iIiI8tgyiYCEJIYTSQRARkX9LTk4GAGzcuLFG8xcWFuL999/H7Nmz0bRpU5jNZvzjH/9ASkpKnUi+art/iBSUxsfERETkdeHh4Xj22Weh1+vxz3/+E1qtFj179qwTiSBRoONjYiIi8pnp06djwYIFUKlUGDJkCNv0I/IDTAaJiMinnnzySWRmZuLxxx/Hyy+/jGnTpmHJkiVKh0UUtPiYmIiIfK5Zs2Z45ZVX8MorrygdClHQY8kgERERURBjMkhEREQUxJgMEhEREQUxJoNEREREQYzJIBEREVEQYzJIREREFMSYDBIREREFMSaDREREREGMySARERFREGMySERERBTEmAwSERERBTEmg0RERERBjMkgERERURDTKB0AERH5P7VajU8++QSSJCkdit+69957lQ6BqEYkIYRQOggiIvJvJ06cwM8//6x0GH6tc+fOSEhIUDoMohuVxmSQiIiIKHil8Z1BIiIioiDGZJCIiIgoiDEZJCIiIgpi/x8cVDpXHjoSTQAAAABJRU5ErkJggg=="/&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;Avantages :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Kinto serait livr comme une solution cl en main et bien qu'on
  utilise un systme de queuing
  (&lt;a href="http://www.celeryproject.org/"&gt;Celery&lt;/a&gt;, par exemple), ce serait
  compltement transparent pour l'utilisateur.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Avec ce systme compltement intgr, Kinto aurait une visibilit
  complte du processus et pourrait vrifier que les messages arrivent
  bien  destination.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt; l'exception du service de queue, il n'y aurait aucun autre service  dployer.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Inconvnient :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Cela ferait considrablement augmenter la porte, la complexit et
  la taille de Kinto.&lt;/li&gt;
&lt;li&gt;Le fait que le systme soit intgr directement dans Kinto ncessite
  de redployer Kinto si le systme de notification change.&lt;/li&gt;
&lt;li&gt;De la mme manire, passer  l'chelle le systme de notification
  voudrait dire passer Kinto  l'chelle.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ce modle a certains avantages ; cependant, la quantit de code
ncessaire est une raison suffisante pour se poser deux fois la
question (le vritable problme tant de ne pas transformer Kinto en
une &lt;a href="https://fr.wikipedia.org/wiki/D%C3%A9rive_des_objectifs"&gt;usine  gaz&lt;/a&gt;).
Comme pour la solution prcdente, nous lions l'utilisateur  un
systme de queues sans respecter notre rgle d'agnosticisme technique.
Enfin, le passage  l'chelle n'apparait pas extrmement flexible
(bien que a reste de la thorie) - il semble dommage d'augmenter deux
ressources quand une pourrait suffire.&lt;/p&gt;
&lt;h2&gt;Le courtier (Broker)&lt;/h2&gt;
&lt;p&gt;L'approche finale est en fait un mlange des deux prcdentes, nous
implmentons un "courtier" (broker) support par l'cosystme Kinto,
mais qui est facilement interchangeable et qui est externe au service
Kinto.&lt;/p&gt;
&lt;p&gt;Ce broker peut tre crit en quelques lignes de Python et intgr
comme le font les jolies &lt;em&gt;stacks&lt;/em&gt; bases sur des &lt;em&gt;micro-services&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Cela permet de dcoupler le systme de queues de Kinto tout en
garantissant l'interoperabilit et le contrle des messages.&lt;/p&gt;
&lt;p&gt;&lt;div class="graphviz" style="align: center;"&gt;&lt;img src="data:image/png;base64,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"/&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;Avantages :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Proposer une solution propre et qui expose simplement la rpartition
  des responsabilits.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Libre  la fois Kinto et le consommateur de toute dpendances
  puisque le transport entre tous les composants se fait en HTTP.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;Permet de passer  l'chelle le Broker indpendamment de Kinto.&lt;/li&gt;
&lt;li&gt;Ne ncessite que trs peu de code du ct de Kinto.&lt;/li&gt;
&lt;li&gt;Permet un ensemble de solutions trs flexibles qui permettent de
  connecter  peu prs n'importe quel consommateur.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Inconvnients:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Le courtier (broker) doit parler HTTP et implmenter un protocole de
  notre choix.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Cette solution ncessite de dployer et de maintenir deux services
  (difficult qui varie en fonction de la complexit du broker).&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Nous aimons particulirement ce modle car il respecte les rgles que
nous nous sommes fixes (sans concessions). Pour tre tout--fait
honnte, le ct "robuste" est un peu approximatif dans ce cas car
nous passons la responsabilit  un autre service.  Cependant grce au
ct interoprable de la solution nous pouvons avoir un certain degr
de confiance dans le processus.&lt;/p&gt;
&lt;p&gt;Un autre aspect intressant de cette solution, qui dcouple le broker
de Kinto, est de permettre  n'importe qui d'y implmenter des rgles
mtiers alors que ce serait inappropri de les implmenter dans Kinto.&lt;/p&gt;
&lt;p&gt;Un exemple notable est la gestion des erreurs. La manire dont nous
traitons les erreurs de notification Balrog n'est pas forcment
universelle et aurait peu de sens hors du cadre de notre cas
d'utilisation.&lt;/p&gt;
&lt;p&gt;Pour finir, a vaut le coup de mentionner ici que le broker
pourrait tre directement consommateur (s'il est assez rapide pour ne
pas ralentir Kinto), on a dj des cas d'utilisations  Mozilla.&lt;/p&gt;
&lt;h1&gt;Feuille de route&lt;/h1&gt;
&lt;p&gt;Comme vous vous en doutez, nous avons opt pour la troisime solution
(Le courtier). Notre feuille de route pour passer de l'ide  la
ralisation, en commenant par un prototype, puis par un
&lt;a href="https://en.wikipedia.org/wiki/Minimum_viable_product"&gt;MVP&lt;/a&gt; et pour
finir en amliorant par itration jusqu' arriver  une solution
utilisable par la communaut.&lt;/p&gt;
&lt;p&gt;Concrtement le prototype ncessite :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;De dfinir les types d'vnements, s'il faut que l'vnement soit
  dclench avant ou aprs ainsi que la structure des informations
  envoyes lors d'un vnement.&lt;/li&gt;
&lt;li&gt;D'activer des vnements Python synchrones en utilisant &lt;a href="http://docs.pylonsproject.org/projects/pyramid//en/latest/narr/events.html"&gt;le systme
  d'vnements de
  Pyramid&lt;/a&gt;
  (ce que nous avions dj fait &lt;a href="https://github.com/spiral-project/daybed/blob/master/daybed/events.py"&gt;dans
  Daybed&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;D'implmenter un backend de notifications dans Kinto permettant de
  s'enregistrer sur ces vnements.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ensuite, pour la partie MVP, nous ajouterons :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Raliser un service HTTP minimaliste (bas sur une ioloop) qui
  recevra les notifications via un &lt;code&gt;POST&lt;/code&gt; HTTP, qui ralisera une
  action et enverra le rsultat directement  Balrog.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Une fois le modle valid on continuera  l'amliorer de manire
itrative, probablement sous la forme d'un "broker standard"
configurable qui sera maintenu comme partie de l'cosystme.&lt;/p&gt;
&lt;p&gt;Nous aimons bien l'ide d'avoir des consommateurs qui viendraient
s'enregistrer seuls directement sur le broker comme des webhooks, mais
ce sera l'objet d'une discussion future.&lt;/p&gt;
&lt;h1&gt;Impressions&lt;/h1&gt;
&lt;p&gt;Comme toujours, nous souhaitons avoir vos retours.&lt;/p&gt;
&lt;p&gt;Nous crivons avant tous ces articles pour changer avec vous, alors
n'hsitez surtout pas  poster vos questions, remarques,
interrogations via les commentaires par exemple.&lt;/p&gt;</summary></entry><entry><title>Summer Perspectives</title><link href="http://www.servicedenuages.fr/en/summer-perspectives" rel="alternate"></link><updated>2015-07-07T00:00:00+02:00</updated><author><name>Service de Nuages</name></author><id>tag:www.servicedenuages.fr,2015-07-07:en/summer-perspectives</id><summary type="html">&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;Translated from the French by &lt;a class="reference external" href="https://dark.ca/"&gt;Dan Phrawzty&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Mozilla has a tradition of "work weeks" whereby the members of our many distributed teams get together in a single physical location a few times per year; occasionally these work weeks involve the entire company, as was the case most recently in &lt;a class="reference external" href="http://www.openstreetmap.org/node/268148288#map=4/50.12/-122.95"&gt;Whistler, BC, Canada&lt;/a&gt;.&lt;/p&gt;
&lt;img alt='"All Hands" talk about Lego, by @davidcrob - CC0' class="align-center" src="http://www.servicedenuages.fr/en/../images/whistler-talks.jpg" style="width: 1024px; height: auto; max-width: 100%;"/&gt;
&lt;p&gt;It was a great opportunity for our team to come together, to share our vision and ideas concerning data storage, and to collect use-cases for &lt;a class="reference external" href="https://kinto.readthedocs.org"&gt;Kinto&lt;/a&gt;.&lt;/p&gt;
&lt;div class="section" id="workshops-and-self-promotion"&gt;
&lt;h2&gt;Workshops and Self-Promotion&lt;/h2&gt;
&lt;p&gt;Nicolas presented &lt;a class="reference external" href="https://github.com/mozilla-services/kinto.js"&gt;Kinto.js&lt;/a&gt; at a dedicated workshop in Whistler, the content of which now forms a &lt;a class="reference external" href="http://kintojs.readthedocs.org/en/latest/tutorial/"&gt;introductory tutorial&lt;/a&gt;. The resulting application, simple though it appears, is a great way to learn the basic concepts behind synchronisation in Kinto. Furthermore, we didn't even need to set up a server - Rmy set one up that &lt;a class="reference external" href="https://kinto.dev.mozaws.net/v1/"&gt;resets itself every day&lt;/a&gt;!&lt;/p&gt;
&lt;p&gt;As an aside, we chose to use Vanilla-JS for two reasons: firstly because it allowed us to avoid the framework wars, but also because it proves that we can do so much more with HTML5 and ES6 than was possible a few years ago.&lt;/p&gt;
&lt;p&gt;Furthermore, this small workshop helped us to realise that we still have large gaps in our documentation, particularly as regards the eco-system and the long-term, global vision for our family of projects. This is an area where we have resolved to do better.&lt;/p&gt;
&lt;img alt="Kinto.js workshop - CC0" class="align-center" src="http://www.servicedenuages.fr/en/../images/whistler-workshop.jpg" style="width: 1024px; height: auto; max-width: 100%;"/&gt;
&lt;/div&gt;
&lt;div class="section" id="mozilla-payments"&gt;
&lt;h2&gt;Mozilla Payments&lt;/h2&gt;
&lt;p&gt;As noted in a &lt;a class="reference external" href="http://www.servicedenuages.fr/la-gestion-des-permissions"&gt;previous blog post&lt;/a&gt; we developed a permissions model which allows Kinto fulfill the the requirements of payment and subscription tracker (our fist use-case).&lt;/p&gt;
&lt;p&gt;For this project, Kinto is going to be used by a Django app via a Python client.&lt;/p&gt;
&lt;p&gt;Now that the development is done we have to deliver - that means integrating, hosting, and really pushing the usefulness of the stack. The solution is should be ready to go by the end of the year.&lt;/p&gt;
&lt;div class="section" id="coming-soon"&gt;
&lt;h3&gt;Coming Soon&lt;/h3&gt;
&lt;p&gt;Following the recent successful implementation of a permissions model, we'd like to take some time out to implement a feature that is important to us: allowing read access to &lt;em&gt;shared&lt;/em&gt; records in a collection. If this is interesting to you, feel free to follow &lt;a class="reference external" href="https://github.com/mozilla-services/cliquet/issues/354"&gt;the issue&lt;/a&gt; or (better yet) contribute a patch!&lt;/p&gt;
&lt;img alt="Whistler Alta Lake - CC0" class="align-center" src="http://www.servicedenuages.fr/en/../images/whistler-lake.jpg" style="width: 1024px; height: auto; max-width: 100%;"/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="firefox-os-and-storage"&gt;
&lt;h2&gt;Firefox OS and Storage&lt;/h2&gt;
&lt;p&gt;We've collaborated frequently with the Firefox OS team over the years, notably regarding the &lt;a class="reference external" href="https://github.com/mozilla-services/msisdn-gateway"&gt;MISISDN Gateway&lt;/a&gt; (basically a way to link BrowserID and SMS together) and &lt;a class="reference external" href="https://github.com/mozilla-services/loop-server"&gt;Firefox Hello&lt;/a&gt;.&lt;/p&gt;
&lt;div class="section" id="in-app-sync"&gt;
&lt;h3&gt;In-App Sync&lt;/h3&gt;
&lt;p&gt;Kinto as a simple solution for synchronising data in Firefox OS? Nice! We've had this partnership in mind for some time (remember &lt;a class="reference external" href="http://daybed.readthedocs.org/"&gt;Daybed&lt;/a&gt;?), and now we've got a great opportunity at our fingertips.&lt;/p&gt;
&lt;p&gt;We'll need to clearly and plainly lay out the limitations and simplistic models inherent in our solution (notably regarding concurrency management), but we believe that it fits the use-case fairly well, so it should not disapoint. :)&lt;/p&gt;
&lt;p&gt;We're particularly motivated as both &lt;a class="reference external" href="https://github.com/daleharvey"&gt;Dale Harvey&lt;/a&gt; (one of the authors of &lt;a class="reference external" href="http://pouchdb.com/"&gt;PouchDB&lt;/a&gt;) and &lt;a class="reference external" href="https://github.com/michielbdejong"&gt;Michel de Jong&lt;/a&gt; (one of the authors of &lt;a class="reference external" href="http://remotestorage.io/"&gt;Remote Storage&lt;/a&gt;) have given us plenty of encouragement from an early stage.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="cut-the-rope"&gt;
&lt;h3&gt;Cut The Rope&lt;/h3&gt;
&lt;p&gt;Kinto is likely to be used to synchronise the configuration settings and scores of the very popular game &lt;a class="reference external" href="https://marketplace.firefox.com/app/cut-the-rope/"&gt;Cut The Rope&lt;/a&gt;. It'll be good to have a practical use-case on such a visible platform.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="syncto"&gt;
&lt;h3&gt;Syncto&lt;/h3&gt;
&lt;p&gt;&lt;a class="reference external" href="https://docs.services.mozilla.com/storage/apis-1.5.html"&gt;Firefox Sync&lt;/a&gt; is what enables synchronisation between Firefox (favourites, extensions, browser history, etc.) and many other targets in an encrypted fashion. The current Javascript client implementation is relatively complex and, frankly, somewhat dated (the proposed re-write has yet to occur).&lt;/p&gt;
&lt;p&gt;We'd like to implement a bridge between &lt;em&gt;Kinto&lt;/em&gt; and &lt;em&gt;Firefox Sync&lt;/em&gt; via &lt;em&gt;Kinto.js&lt;/em&gt; - which is more simple and more modern than the existing reference client - in order to store synced data in IndexedDB. On the server side, we feel that this shouldn't be too hard since our project is itself inspired by Sync's proven protocol model; from a client perspective, most of the work will be in plumbing crypto into BrowserID authentication.&lt;/p&gt;
&lt;p&gt;Alexis jumped at the chance to start work on a &lt;a class="reference external" href="https://github.com/mozilla-services/syncclient"&gt;Python Firefox Sync client&lt;/a&gt; which will serve as the base for any future service.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="cloud-storage"&gt;
&lt;h3&gt;Cloud Storage&lt;/h3&gt;
&lt;p&gt;Eden Chung and Sean Lee did a presentation on their advancements regarding the integration of remote storage services (notably DropBox and Baidu Yun) in Firefox OS. Their current proof-of-concept is based on &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Filesystem_in_Userspace"&gt;FUSE&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;We were also thinking about introducing the idea of attachments in Kinto by implementing the &lt;a class="reference external" href="https://tools.ietf.org/html/draft-dejong-remotestorage-05"&gt;remote storage specification&lt;/a&gt;; however, for the moment our existing use-cases just aren't calling for it.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="id2"&gt;
&lt;h3&gt;Coming Soon&lt;/h3&gt;
&lt;p&gt;In addition to the work that we've already done on the server side, we're going to have to deal with concurrency management in our Javascript client in order to allow simultaneous writes and background synchronisation.&lt;/p&gt;
&lt;p&gt;We are always looking for feedback - and, of course, code contributions - on both the &lt;a class="reference external" href="https://github.com/mozilla-services/kinto/"&gt;server&lt;/a&gt; and &lt;a class="reference external" href="https://github.com/mozilla-services/kinto.js/"&gt;client&lt;/a&gt;!&lt;/p&gt;
&lt;img alt="Firefox OS Cloud Storage Presentation - CC0" class="align-center" src="http://www.servicedenuages.fr/en/../images/whistler-cloud-storage.jpg" style="width: 1024px; height: auto; max-width: 100%;"/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="firefox-application-content"&gt;
&lt;h2&gt;Firefox Application Content&lt;/h2&gt;
&lt;p&gt;The Firefox development and release process is currently based on a six-week cycle. One of the objectives is to decouple certain specific content elements (such as safety rules, dictionaries and translations, etc.) from these relatively long cycles &lt;a class="footnote-reference" href="#id4" id="id3"&gt;[1]&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The proposed solution is versioned, read-only JSON and binary blobs that can be synchronised with live browsers. There are already a number of tools to manage this sort of thing (examples include &lt;a class="reference external" href="https://wiki.mozilla.org/Balrog"&gt;Balrog&lt;/a&gt; and &lt;a class="reference external" href="https://github.com/mozilla-services/shavar"&gt;Shavar&lt;/a&gt;), but for the moment no choice has been made. During conversations with the team in charge of this project it became evident that Kinto could be useful here too - which is motivating us even more to evolve our project!&lt;/p&gt;
&lt;table class="docutils footnote" frame="void" id="id4" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label"&gt;&lt;/col&gt;&lt;col&gt;&lt;/col&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id3"&gt;[1]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;The good news is that all the existing 3rd-party functionality will be
revived in the form of add-ons.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;img alt="Landscape - CC0" class="align-center" src="http://www.servicedenuages.fr/en/../images/whistler-landscape.jpg" style="width: 1024px; height: auto; max-width: 100%;"/&gt;
&lt;/div&gt;
&lt;div class="section" id="awesome-bar"&gt;
&lt;h2&gt;Awesome Bar&lt;/h2&gt;
&lt;p&gt;The &lt;em&gt;Firefox Labs&lt;/em&gt; team, best known for raising red pandas in &lt;a class="reference external" href="https://i.imgur.com/NPG7CxB.gif"&gt;test tubes&lt;/a&gt;, is interested in our solution as well, notably as regards the evolution of the &lt;a class="reference external" href="https://support.mozilla.org/en-US/kb/awesome-bar-search-firefox-bookmarks-history-tabs"&gt;Awesome Bar&lt;/a&gt; which would meld URLs, browser history, and search functions.&lt;/p&gt;
&lt;p&gt;We can't say too much right now, but the aforementioned shared collections feature in &lt;em&gt;Kinto&lt;/em&gt; would fit so very nicely into the future of the Firefox browser. :)&lt;/p&gt;
&lt;div class="section" id="id6"&gt;
&lt;h3&gt;Coming Soon&lt;/h3&gt;
&lt;p&gt;In all likelihood we will need to implement indexing and full-text searching (read: Elasticsearch) before the end of the year. This fits nicely into our roadmap since it's something that we had in Daybed already.&lt;/p&gt;
&lt;img alt="Firefox Labs Meeting - CC0" class="align-center" src="http://www.servicedenuages.fr/en/../images/whistler-labs.jpg" style="width: 1024px; height: auto; max-width: 100%;"/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="browser-html"&gt;
&lt;h2&gt;Browser.html&lt;/h2&gt;
&lt;p&gt;The Search team has been exploring and extending the very notion of a platform, and is currently working on implementing a web browser in Javascript and HTML5 with &lt;a class="reference external" href="https://facebook.github.io/react/"&gt;React&lt;/a&gt;, the result of which is affectionatly known as &lt;a class="reference external" href="https://github.com/mozilla/browser.html"&gt;browser.html&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Kinto aligns very well with the needs of that project as regards the synchronisation of user data. This could be as simple as a replication of Sync itself, but it could also be something more interesting, such as entire collections of any arbitrary data - for example, browser preferences, or an Alexa-top-500-style mechanism that would allow URL completion without the need to send a search request.&lt;/p&gt;
&lt;p&gt;But why stop with just the local browser? We could synchronise entire React states between peripherals, thus allowing a seamless browser experience across every device!&lt;/p&gt;
&lt;div class="section" id="id8"&gt;
&lt;h3&gt;Coming Soon&lt;/h3&gt;
&lt;p&gt;If Browser.html must store navigation data, we believe that it should do so using strong encryption directly in the Javascript client. Luckily we're not the only ones thinking about this, and there are already &lt;a class="reference external" href="http://www.w3.org/TR/WebCryptoAPI/"&gt;several possible standards&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;To avoid pinging the server at regular intervals in order to synchronise the changes (effectively DDoS'ing ourselves!), the introduction of &lt;a class="reference external" href="https://w3c.github.io/push-api/"&gt;push notifications&lt;/a&gt; seems like a natural choice. This would be the final building block in our quest to build a complete "Mobile / Web backed as a service".&lt;/p&gt;
&lt;img alt="Roadmap - CC0" class="align-center" src="http://www.servicedenuages.fr/en/../images/whistler-roadmap.jpg" style="width: 1024px; height: auto; max-width: 100%;"/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="conclusion"&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;We're in pretty much the ideal situation right now: &lt;a class="reference external" href="https://github.com/mozilla-services/kinto/wiki/Roadmap"&gt;everything&lt;/a&gt; that we've imagined, worked on, prototyped, and shipped corresponds to the needs and desires of a number of teams at Mozilla.&lt;/p&gt;
&lt;p&gt;Our challenges ahead are:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Co-ordinate with the other teams efficiently.&lt;/li&gt;
&lt;li&gt;Avoid &lt;a class="reference external" href="https://i.imgur.com/jeFYGQ5.jpg"&gt;disappointment&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Maintain a high level of productivity.&lt;/li&gt;
&lt;li&gt;Continue to improve and promote our solutions.&lt;/li&gt;
&lt;li&gt;Focus on quick wins that move us forward.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Finally, we will work to encourage meaningful community contributions to help us build a free, generic, simple, and self-hostable solution for storing data on the web.&lt;/p&gt;
&lt;img alt="Friday Night Party - CC0" class="align-center" src="http://www.servicedenuages.fr/en/../images/whistler-top-roof.jpg" style="width: 1024px; height: auto; max-width: 100%;"/&gt;
&lt;/div&gt;
</summary></entry><entry><title>Perspectives pour l't</title><link href="http://www.servicedenuages.fr/en/../perspectives-pour-lete" rel="alternate"></link><updated>2015-07-07T00:00:00+02:00</updated><author><name>Service de Nuages</name></author><id>tag:www.servicedenuages.fr,2015-07-07:en/../perspectives-pour-lete</id><summary type="html">&lt;p&gt;Mozilla a pour coutume d'organiser rgulirement des semaines de travail o tous les employs
sont runis physiquement. Pour cette dernire dition, nous avons pu retrouver
nos collgues du monde entier  &lt;a class="reference external" href="http://www.openstreetmap.org/node/268148288#map=4/50.12/-122.95"&gt;Whistler, en Colombie Britannique au Canada&lt;/a&gt; !&lt;/p&gt;
&lt;img alt="All Hands talk about Lego, by @davidcrob - CC0" class="align-center" src="http://www.servicedenuages.fr/en/../images/whistler-talks.jpg" style="width: 1024px; height: auto; max-width: 100%;"/&gt;
&lt;p&gt;Ce ft l'occasion pour notre quipe de se retrouver, et surtout de partager notre
vision et nos ides dans le domaine du stockage, afin de collecter des cas d'utilisation pour
notre solution &lt;a class="reference external" href="https://kinto.readthedocs.org"&gt;Kinto&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Dans cet article, nous passons en revue les pistes que nous avons pour
les prochains mois.&lt;/p&gt;
&lt;div class="section" id="ateliers-et-promotion"&gt;
&lt;h2&gt;Ateliers et promotion&lt;/h2&gt;
&lt;p&gt;Nicolas a prsent &lt;a class="reference external" href="https://github.com/mozilla-services/kinto.js"&gt;Kinto.js&lt;/a&gt; dans un atelier ddi, avec comme support de
prsentation le &lt;a class="reference external" href="http://kintojs.readthedocs.org/en/latest/tutorial/"&gt;tutorial d'introduction&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;L'application rsultante, pourtant toute simple, permet d'apprhender les
concepts de synchronisation de Kinto. Le tout sans installation prlable,
puisque Rmy a mis en place un &lt;a class="reference external" href="https://kinto.dev.mozaws.net/v1/"&gt;serveur de dev effac tous les jours&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Nous avions mis un point d'honneur  faire du Vanilla.JS, dj pour viter les
combats de clochers autour des frameworks, mais aussi pour mettre en vidence qu'avec
HTML5 et ES6, on n'tait plus aussi dmunis qu'il y a quelques annes.&lt;/p&gt;
&lt;p&gt;Ce petit atelier nous a permis de nous rendre compte qu'on avait encore de
grosses lacunes en terme de documentation, surtout en ce qui concerne
l'co-systme et la vision globale des projets (Kinto, Kinto.js, Cliquet, ...).
Nous allons donc faire de notre mieux pour combler ce manque.&lt;/p&gt;
&lt;img alt="Kinto.js workshop - CC0" class="align-center" src="http://www.servicedenuages.fr/en/../images/whistler-workshop.jpg" style="width: 1024px; height: auto; max-width: 100%;"/&gt;
&lt;/div&gt;
&lt;div class="section" id="mozilla-payments"&gt;
&lt;h2&gt;Mozilla Payments&lt;/h2&gt;
&lt;p&gt;Comme &lt;a class="reference external" href="http://www.servicedenuages.fr/la-gestion-des-permissions"&gt;dcrit prcdemment&lt;/a&gt;, nous avons mis en place un systme de permissions pour rpondre aux besoins de suivi des paiements et abonnements.&lt;/p&gt;
&lt;p&gt;Pour ce projet, Kinto sera utilis depuis une application Django, via un client Python.&lt;/p&gt;
&lt;p&gt;Maintenant que les dveloppements ont t livrs, il faut transformer l'essai, russir l'intgration, l'hbergement et la monte en puissance. La solution doit tre livre  la fin de l'anne.&lt;/p&gt;
&lt;div class="section" id="a-venir"&gt;
&lt;h3&gt; venir&lt;/h3&gt;
&lt;p&gt;Nous aimerions en profiter pour implmenter une fonctionnalit qui nous tient  coeur : la construction de la liste des enregistrements accessibles en lecture sur une collection partage.&lt;/p&gt;
&lt;img alt="Whistler Alta Lake - CC0" class="align-center" src="http://www.servicedenuages.fr/en/../images/whistler-lake.jpg" style="width: 1024px; height: auto; max-width: 100%;"/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="firefox-os-et-stockage"&gt;
&lt;h2&gt;Firefox OS et stockage&lt;/h2&gt;
&lt;p&gt;Nous avons eu beaucoup d'changes avec l'quipe de Firefox OS, avec qui nous avions
dj eu l'occasion de collaborer, pour le &lt;a class="reference external" href="https://github.com/mozilla-services/msisdn-gateway"&gt;serveur d'identification BrowserID par SMS&lt;/a&gt; et pour &lt;a class="reference external" href="https://github.com/mozilla-services/loop-server"&gt;Firefox Hello&lt;/a&gt;.&lt;/p&gt;
&lt;div class="section" id="in-app-sync"&gt;
&lt;h3&gt;In-App sync&lt;/h3&gt;
&lt;p&gt;Kinto, la solution simple promue pour la synchronisation de donnes dans les applications
Firefox OS ? La classe ! C'est ce qu'on avait en tte depuis longtemps, dj 
l'poque avec &lt;a class="reference external" href="http://daybed.readthedocs.org/"&gt;Daybed&lt;/a&gt;. Voici donc une belle opportunit  saisir !&lt;/p&gt;
&lt;p&gt;Il va falloir expliciter les limitations et hypothses simplificatrices de notre
solution, surtout en termes de gestion de la concurrence. Nous sommes persuads
que a colle avec la plupart des besoins, mais il ne faudrait pas dcevoir :)&lt;/p&gt;
&lt;p&gt;Le fait que &lt;a class="reference external" href="https://github.com/daleharvey"&gt;Dale&lt;/a&gt;, un des auteurs de &lt;a class="reference external" href="http://pouchdb.com/"&gt;PouchDB&lt;/a&gt; et &lt;a class="reference external" href="https://github.com/michielbdejong"&gt;Michiel de Jong&lt;/a&gt;, un des auteurs de &lt;a class="reference external" href="http://remotestorage.io/"&gt;Remote Storage&lt;/a&gt;, nous aient encourags sur nos premiers pas nous a bien motiv !&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="cut-the-rope"&gt;
&lt;h3&gt;Cut the Rope&lt;/h3&gt;
&lt;p&gt;Kinto devrait tre mis  profit pour synchroniser les paramtres et les scores
du &lt;a class="reference external" href="http://mozilla.cuttherope.net/"&gt;jeu&lt;/a&gt;. Un premier exercice et une premire vitrine sympas !&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="syncto"&gt;
&lt;h3&gt; SyncTo &lt;/h3&gt;
&lt;p&gt;&lt;a class="reference external" href="https://docs.services.mozilla.com/storage/apis-1.5.html"&gt;Firefox Sync&lt;/a&gt; est la solution qui permet de synchroniser les donnes de Firefox (favoris, extensions, historique, compltion des formulaires, mots de passe, ...) entre plusieurs priphriques, de manire chiffre.&lt;/p&gt;
&lt;p&gt;L'implmentation du client en JavaScript est relativement complexe et date un peu maintenant.
Le code existant n'est pas vraiment portable dans &lt;em&gt;Firefox OS&lt;/em&gt; et les tentatives de rcriture
n'ont pas abouti.&lt;/p&gt;
&lt;p&gt;Nous souhaitons implmenter un pont entre &lt;em&gt;Kinto&lt;/em&gt; et &lt;em&gt;Firefox Sync&lt;/em&gt;, de manire
 pouvoir utiliser le client &lt;em&gt;Kinto.js&lt;/em&gt;, plus simple et plus moderne, pour rcuprer
les contenus et les stocker dans IndexedDB. Le delta  implmenter ct serveur est faible car nous nous tions
inspirs du protocole dj prouv de Sync. Ct client, il s'agira surtout de
cbler l'authentification BrowserId et la Crypto.&lt;/p&gt;
&lt;p&gt;Alexis a saut sur l'occasion pour commencer l'criture d'&lt;a class="reference external" href="https://github.com/mozilla-services/syncclient"&gt;un client python pour Firefox Sync&lt;/a&gt;, qui servira de brique de base pour l'criture du service.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="cloud-storage"&gt;
&lt;h3&gt;Cloud Storage&lt;/h3&gt;
&lt;p&gt;Eden Chuang et Sean Lee ont prsent les avances sur l'intgration de services de stockages
distants (&lt;em&gt;DropBox, Baidu Yun&lt;/em&gt;) dans &lt;em&gt;Firefox OS&lt;/em&gt;. Actuellement, leur preuve de
concept repose sur &lt;a class="reference external" href="https://fr.wikipedia.org/wiki/Filesystem_in_Userspace"&gt;FUSE&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Nous avons videmment en tte d'introduire la notion de fichiers attachs dans
&lt;em&gt;Kinto&lt;/em&gt;, en implmentant la specification
&lt;a class="reference external" href="https://tools.ietf.org/html/draft-dejong-remotestorage-05"&gt;*Remote Storage*&lt;/a&gt;,
mais pour l'instant les cas d'utilisations ne se sont pas encore prsents officiellement.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="id2"&gt;
&lt;h3&gt; venir&lt;/h3&gt;
&lt;p&gt;Nous serons probablement amens  introduire la gestion de la concurrence dans
le client JS, en complment de ce qui a t fait sur le serveur, pour permettre
les critures simultanes et synchronisation en tche de fond.&lt;/p&gt;
&lt;p&gt;Nous sommes par ailleurs perptuellement preneurs de vos retours  et bien
entendu de vos contributions  tant sur le code &lt;a class="reference external" href="https://github.com/mozilla-services/kinto/"&gt;serveur&lt;/a&gt;
que &lt;a class="reference external" href="https://github.com/mozilla-services/kinto.js/"&gt;client&lt;/a&gt;  !&lt;/p&gt;
&lt;img alt="Firefox OS Cloud Storage Presentation - CC0" class="align-center" src="http://www.servicedenuages.fr/en/../images/whistler-cloud-storage.jpg" style="width: 1024px; height: auto; max-width: 100%;"/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="contenus-applicatifs-de-firefox"&gt;
&lt;h2&gt;Contenus applicatifs de Firefox&lt;/h2&gt;
&lt;p&gt;Aujourd'hui Firefox a un cycle de release de six semaines. Un des objectifs
consiste  dsolidariser certains contenus applicatifs de ces cycles
relativement longs (ex. &lt;em&gt;rgles de securit, dictionnaires, traductions, ...&lt;/em&gt;) &lt;a class="footnote-reference" href="#id4" id="id3"&gt;[1]&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Il s'agit de donnes JSON et binaire qui doivent tre versionnes et synchronises par
les navigateurs (&lt;em&gt;lecture seule&lt;/em&gt;).&lt;/p&gt;
&lt;p&gt;Il y a plusieurs outils officiels qui existent pour grer a (&lt;em&gt;Balrog&lt;/em&gt;, &lt;em&gt;Shavar&lt;/em&gt;, ...),
et pour l'instant, aucun choix n'a t fait. Mais lors des conversations avec
l'quipe en charge du projet, ce ft vraiment motivant de voir que mme pour
ce genre de besoins internes, &lt;em&gt;Kinto&lt;/em&gt; est tout aussi pertinent !&lt;/p&gt;
&lt;table class="docutils footnote" frame="void" id="id4" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label"&gt;&lt;/col&gt;&lt;col&gt;&lt;/col&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id3"&gt;[1]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;La bonne nouvelle c'est que toutes les fonctionnalits &lt;em&gt;third-party&lt;/em&gt; qui ont
t intgres rcemment vont redevenir des &lt;em&gt;add-ons&lt;/em&gt; \o/.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;img alt="Landscape - CC0" class="align-center" src="http://www.servicedenuages.fr/en/../images/whistler-landscape.jpg" style="width: 1024px; height: auto; max-width: 100%;"/&gt;
&lt;/div&gt;
&lt;div class="section" id="awesome-bar"&gt;
&lt;h2&gt;Awesome bar&lt;/h2&gt;
&lt;p&gt;L'quipe &lt;em&gt;Firefox Labs&lt;/em&gt;, le laboratoire qui lve des pandas roux en prouvette,
serait vraiment intress par notre solution, notamment pour abreuver en donnes
un prototype pour amliorer &lt;em&gt;Awesome bar&lt;/em&gt;, qui fusionnerait URL, historique et recherche.&lt;/p&gt;
&lt;p&gt;Nous ne pouvons pas en dire beaucoup plus pour l'instant, mais les fonctionnalits
de collections d'enregistrements partages entre utilisateurs de &lt;em&gt;Kinto&lt;/em&gt;
correspondent parfaitement  ce qui est envisag pour le futur du navigateur :)&lt;/p&gt;
&lt;div class="section" id="id5"&gt;
&lt;h3&gt; venir&lt;/h3&gt;
&lt;p&gt;Nous serons donc probablement amens, avant de la fin de l'anne,  introduire des
fonctionnalits d'indexation et de recherche &lt;em&gt;full-text&lt;/em&gt; (comprendre &lt;em&gt;ElasticSearch&lt;/em&gt;).
Cela rejoint nos plans prcdents, puisque c'est quelque chose que nous avions dans
&lt;em&gt;Daybed&lt;/em&gt;, et qui figurait sur notre feuille de route !&lt;/p&gt;
&lt;img alt="Firefox Labs Meeting - CC0" class="align-center" src="http://www.servicedenuages.fr/en/../images/whistler-labs.jpg" style="width: 1024px; height: auto; max-width: 100%;"/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="browser-html"&gt;
&lt;h2&gt;Browser.html&lt;/h2&gt;
&lt;p&gt;L'quipe &lt;em&gt;Recherche&lt;/em&gt; explore les notions de plateforme, et travaille notamment
sur l'implmentation d'un navigateur en JS/HTML avec &lt;em&gt;React&lt;/em&gt;:
&lt;a class="reference external" href="https://github.com/mozilla/browser.html"&gt;browser.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Kinto&lt;/em&gt; correspond parfaitement aux attentes
de l'quipe pour synchroniser les donnes associes  un utilisateur.&lt;/p&gt;
&lt;p&gt;Il pourrait s'agir de donnes de navigation (comme Sync), mais aussi de collections
d'enregistrements diverses, comme par exemple les prfrences du navigateur
ou un quivalent  &lt;em&gt;Alexa.com Top 500&lt;/em&gt; pour fournir la compltion d'URL sans
interroger le moteur de recherche.&lt;/p&gt;
&lt;p&gt;L'exercice pourrait tre pouss jusqu' la synchronisation d'tats &lt;em&gt;React&lt;/em&gt;
entre priphriques (par exemple pour les onglets).&lt;/p&gt;
&lt;div class="section" id="id7"&gt;
&lt;h3&gt; venir&lt;/h3&gt;
&lt;p&gt;Si &lt;em&gt;browser.html&lt;/em&gt; doit stocker des donnes de navigation, il faudra ajouter
des fonctionnalits de chiffrement sur le client JS. a tombe bien, c'est un
sujet passionant, et &lt;a class="reference external" href="http://www.w3.org/TR/WebCryptoAPI/"&gt;il y a plusieurs standards&lt;/a&gt; !&lt;/p&gt;
&lt;p&gt;Pour viter d'interroger le serveur  intervalle rgulier afin de synchroniser les
changements, l'introduction des &lt;a class="reference external" href="https://w3c.github.io/push-api/"&gt;*push notifications*&lt;/a&gt; semble assez naturelle.
Il s'agirait alors de la dernire pierre qui manque  l'difice pour obtenir
un &lt;em&gt;Mobile/Web backend as a service&lt;/em&gt; complet.&lt;/p&gt;
&lt;img alt="Roadmap - CC0" class="align-center" src="http://www.servicedenuages.fr/en/../images/whistler-roadmap.jpg" style="width: 1024px; height: auto; max-width: 100%;"/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="conclusion"&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Nous sommes dans une situation idale, puisque ce que nous avions imagin
sur &lt;a class="reference external" href="https://github.com/mozilla-services/kinto/wiki/Roadmap"&gt;notre feuille de route&lt;/a&gt; correspond  ce qui nous est demand par les
diffrentes quipes.&lt;/p&gt;
&lt;p&gt;L'enjeu consiste maintenant  se coordonner avec tout le monde, ne pas dcevoir,
tenir la charge, continuer  amliorer et  faire la promotion du produit, se concentrer
sur les prochaines tapes et embarquer quelques contributeurs  nos cots pour
construire une solution libre, gnrique, simple et auto-hbergeable pour le stockage
de donnes sur le Web :)&lt;/p&gt;
&lt;img alt="Friday Night Party - CC0" class="align-center" src="http://www.servicedenuages.fr/en/../images/whistler-top-roof.jpg" style="width: 1024px; height: auto; max-width: 100%;"/&gt;
&lt;/div&gt;
</summary></entry><entry><title>Achievement unlocked</title><link href="http://www.servicedenuages.fr/en/kinto-1.0" rel="alternate"></link><updated>2015-06-17T00:00:00+02:00</updated><author><name>Service de Nuages</name></author><id>tag:www.servicedenuages.fr,2015-06-17:en/kinto-1.0</id><summary type="html">&lt;p&gt;Today we released Cliquet 2.0 &lt;a class="footnote-reference" href="#id5" id="id1"&gt;[1]&lt;/a&gt; and Kinto 1.0 &lt;a class="footnote-reference" href="#id6" id="id2"&gt;[2]&lt;/a&gt; (a.k.a Cloud Storage).&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://kinto.readthedocs.org/en/latest/"&gt;Kinto&lt;/a&gt; is a service to
store, synchronize and share arbitrary data attached to a Firefox Account.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://cliquet.readthedocs.org/en/latest/"&gt;Cliquet&lt;/a&gt; is a toolkit to
ease the implementation of HTTP micro-services, such as data-driven REST APIs
with synchronization needs.&lt;/p&gt;
&lt;p&gt;You can read more about our rationale for building this solution at
&lt;a class="reference external" href="http://www.servicedenuages.fr/eco-systeme-et-stockage-generique-en.html"&gt;http://www.servicedenuages.fr/eco-systeme-et-stockage-generique-en.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Both projects received a lot of diligence during the last months. Even
though most of the work we had done for Reading List could be
used, we rebuilt many parts and introduced some long awaited features,
like permissions management.&lt;/p&gt;
&lt;p&gt;Of course, exactly like when you refurbish a ceiling at home, we can't
resist to see loads of things that shall still be improved! Especially
about documentation and performance :)&lt;/p&gt;
&lt;p&gt;We can already foresee how the ecosystem will look like, and it's
promising. There is already a JavaScript client &lt;a class="footnote-reference" href="#id7" id="id3"&gt;[3]&lt;/a&gt;, which aims to
synchronize browser local data with a Kinto instance.&lt;/p&gt;
&lt;p&gt;We strongly welcome any feedback, be it about the code, the
documentation or security aspects of the solution. If you wish to reach
to us, you can use the #storage channel of the Mozilla IRC network.&lt;/p&gt;
&lt;p&gt;And, this is just the beginning! Future plans are described in our road
map &lt;a class="footnote-reference" href="#id8" id="id4"&gt;[4]&lt;/a&gt;.&lt;/p&gt;
&lt;table class="docutils footnote" frame="void" id="id5" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label"&gt;&lt;/col&gt;&lt;col&gt;&lt;/col&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id1"&gt;[1]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;Cliquet is a toolkit to ease the implementation of HTTP
microservices, such as data-driven REST APIs   &lt;a class="reference external" href="https://cliquet.readthedocs.org"&gt;https://cliquet.readthedocs.org&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id6" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label"&gt;&lt;/col&gt;&lt;col&gt;&lt;/col&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id2"&gt;[2]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;Kinto is a server allowing you to store and synchronize arbitrary data,
attached to your Firefox account.  &lt;a class="reference external" href="https://kinto.readthedocs.org"&gt;https://kinto.readthedocs.org&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id7" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label"&gt;&lt;/col&gt;&lt;col&gt;&lt;/col&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id3"&gt;[3]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;Cliquetis, the javascript library to consume the Kinto HTTP API 
&lt;a class="reference external" href="https://github.com/mozilla-services/cliquetis"&gt;https://github.com/mozilla-services/cliquetis&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id8" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label"&gt;&lt;/col&gt;&lt;col&gt;&lt;/col&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id4"&gt;[4]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;Kinto roadmap: &lt;a class="reference external" href="https://github.com/mozilla-services/kinto/wiki/roadmap"&gt;https://github.com/mozilla-services/kinto/wiki/roadmap&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</summary></entry><entry><title>Achievement unlocked</title><link href="http://www.servicedenuages.fr/en/../kinto-1.0" rel="alternate"></link><updated>2015-06-17T00:00:00+02:00</updated><author><name>Service de Nuages</name></author><id>tag:www.servicedenuages.fr,2015-06-17:en/../kinto-1.0</id><summary type="html">&lt;p&gt;Aujourd'hui, c'est jour de fte : nous venons de publier Cliquet &lt;strong&gt;2.0&lt;/strong&gt;
&lt;a class="footnote-reference" href="#id5" id="id1"&gt;[1]&lt;/a&gt; et Kinto &lt;strong&gt;1.0&lt;/strong&gt; &lt;a class="footnote-reference" href="#id6" id="id2"&gt;[2]&lt;/a&gt;.&lt;/p&gt;
&lt;blockquote class="epigraph"&gt;
&lt;p&gt;L'aboutissement de 3 annes de R&amp;amp;D !&lt;/p&gt;
&lt;p class="attribution"&gt;Rmy&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a class="reference external" href="https://kinto.readthedocs.org/en/latest/"&gt;Kinto&lt;/a&gt; est un service pour
stocker, synchroniser et partager des donnes arbitraires, attaches  un
compte Firefox (mais le systme d'authentification est &lt;em&gt;pluggable&lt;/em&gt;).&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://cliquet.readthedocs.org/en/latest/"&gt;Cliquet&lt;/a&gt; est une boite  outils pour faciliter l'implmentation de
micro-services HTTP tels que les APIs &lt;em&gt;REST&lt;/em&gt; ayant des besoins de synchronisation.&lt;/p&gt;
&lt;p&gt;Vous pouvez lire plus  propos des raisons qui nous ont pouss  proposer cette nouvelle solution
et de notre ambition sur &lt;a class="reference external" href="http://www.servicedenuages.fr/eco-systeme-et-stockage-generique.html"&gt;http://www.servicedenuages.fr/eco-systeme-et-stockage-generique.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Nous sommes fiers du travail que nous avons pu raliser durant ces derniers
mois sur ces deux projets. Bien que la plupart du travail que nous ayons
ralis pour le serveur de liste de lecture (Reading List) ait pu tre utilis,
beaucoup de parties ont t repenses et nous avons introduit des
fonctionnalits que l'on attendait depuis longtemps, comme la gestion des
permissions.&lt;/p&gt;
&lt;p&gt;Bien sur, exactement comme aprs un r-amnagement de salon, on ne peut
s'empcher de voir toutes les choses qui doivent toujours tre amliores,
notamment sur la documentation et les performances.&lt;/p&gt;
&lt;p&gt;On peut dj entrevoir  quoi l'cosystme va ressembler, et c'est prometteur.
Il y a dj un client JavaScript &lt;a class="footnote-reference" href="#id7" id="id3"&gt;[3]&lt;/a&gt; dont l'objectif est de synchroniser les
donnes locales du navigateur avec une instance de Kinto.&lt;/p&gt;
&lt;p&gt;N'hsitez vraiment pas  nous solliciter pour discuter avec vous si vous avez
des problmatiques proches : nous accueillons avec plaisir toutes sortes de
retours, que ce soit  propos du code, de la documentation, de la scurit de
la solution ou de la manire de communiquer avec le monde extrieur. Si vous
souhaitez nous contacter, vous pouvez laisser un commentaire ici ou nous
contacter sur le canal &lt;a class="reference external" href="irc://irc.mozilla.org/#storage"&gt;#storage&lt;/a&gt; sur le rseau IRC de Mozilla.&lt;/p&gt;
&lt;p&gt;Et ce n'est que le dbut ! Le futur se dessine dans notre feuille de route
&lt;a class="footnote-reference" href="#id8" id="id4"&gt;[4]&lt;/a&gt;.&lt;/p&gt;
&lt;table class="docutils footnote" frame="void" id="id5" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label"&gt;&lt;/col&gt;&lt;col&gt;&lt;/col&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id1"&gt;[1]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;&lt;strong&gt;Cliquet&lt;/strong&gt; est une boite  outils pour faciliter l'implmentation de
microservices HTTP tels que les APIs &lt;em&gt;REST&lt;/em&gt; ayant des besoins de
synchronisation.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id6" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label"&gt;&lt;/col&gt;&lt;col&gt;&lt;/col&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id2"&gt;[2]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;&lt;strong&gt;Kinto&lt;/strong&gt; est un service pour stocker, synchroniser et partager des donnes
arbitraires, attaches  un compte Firefox (mais le systme d'authentification
est &lt;em&gt;pluggable&lt;/em&gt;).&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id7" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label"&gt;&lt;/col&gt;&lt;col&gt;&lt;/col&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id3"&gt;[3]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;Cliquetis, la bibliothque JavaScript pour consommer l'API HTTP de Kinto 
&lt;a class="reference external" href="https://github.com/mozilla-services/cliquetis"&gt;https://github.com/mozilla-services/cliquetis&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="id8" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label"&gt;&lt;/col&gt;&lt;col&gt;&lt;/col&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id4"&gt;[4]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;La feuille de route de Kinto: &lt;a class="reference external" href="https://github.com/mozilla-services/kinto/wiki/roadmap"&gt;https://github.com/mozilla-services/kinto/wiki/roadmap&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</summary></entry><entry><title>Handling permissions</title><link href="http://www.servicedenuages.fr/en/handling-permissions" rel="alternate"></link><updated>2015-05-12T00:00:00+02:00</updated><author><name>Service de Nuages</name></author><id>tag:www.servicedenuages.fr,2015-05-12:en/handling-permissions</id><summary type="html">&lt;p&gt;When creating a generic data storage (Kinto), permissions handling is one of
the big challenges: who should get access to what, and how should we define
these rules?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;tl;dr: Some feedback about the permissions vocabulary and our ideas about how
to implement permissions management in a generic data storage system&lt;/strong&gt;&lt;/p&gt;
&lt;div class="section" id="the-problem-at-hand"&gt;
&lt;h2&gt;The problem at hand&lt;/h2&gt;
&lt;p&gt;The problem we're facing is simple: data is stored online and we need a way to
share this data with other people.&lt;/p&gt;
&lt;p&gt;Looking at the use cases, it's possible to split our users in two categories:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;End users (you);&lt;/li&gt;
&lt;li&gt;Applications which interact on their behalf.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Different parties don't have the same rights: some should be able to read,
others should write, yet another should be able to create new records, and all
this permission handling should be fine-grained: it should be possible to read
one record but not the other, for instance.&lt;/p&gt;
&lt;p&gt;We started from the fact that no available solution was offering an appealing
solution to these needs.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="a-vocabulary-problem"&gt;
&lt;h2&gt;A vocabulary problem&lt;/h2&gt;
&lt;p&gt;The principal problem that got in our way during our thinking was the
vocabulary.&lt;/p&gt;
&lt;div class="section" id="principals"&gt;
&lt;h3&gt;Principals&lt;/h3&gt;
&lt;p&gt;A &lt;em&gt;principal&lt;/em&gt;, is an entity that can be authenticated by a computer system.
It is the actor who does the action. &lt;a class="footnote-reference" href="#id2" id="id1"&gt;[1]&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;It could either be someone, a computer, a service or a group of any of such
things. This is conceptually wider than the classical "user id*".&lt;/p&gt;
&lt;p&gt;Permissions are then associated to these &lt;em&gt;principals&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;For instance, a user is identified in an unique way when he connects to the
authentication system, which role is to define a list of &lt;em&gt;principals&lt;/em&gt; for the
authenticating user.&lt;/p&gt;
&lt;table class="docutils footnote" frame="void" id="id2" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label"&gt;&lt;/col&gt;&lt;col&gt;&lt;/col&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id1"&gt;[1]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;To read more about &lt;em&gt;principals&lt;/em&gt; :
&lt;a class="reference external" href="https://en.wikipedia.org/wiki/Principal_%28computer_security%29"&gt;https://en.wikipedia.org/wiki/Principal_%28computer_security%29&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="section" id="the-difference-between-a-role-and-a-group"&gt;
&lt;h3&gt;The difference between a role and a group&lt;/h3&gt;
&lt;p&gt;From scratch, it's not easy to precisely define the difference between these two
concepts which allow to associate permissions to a group of &lt;em&gt;principals&lt;/em&gt;. &lt;a class="footnote-reference" href="#id4" id="id3"&gt;[2]&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The difference is mainly semantic, but we can see a difference in the "direction"
of the relationship between these two concepts.&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;A role is a list of permissions associated to a &lt;em&gt;principal&lt;/em&gt;;&lt;/li&gt;
&lt;li&gt;A group is a list of &lt;em&gt;principals&lt;/em&gt; we can associate to a permission.&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="docutils footnote" frame="void" id="id4" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label"&gt;&lt;/col&gt;&lt;col&gt;&lt;/col&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id3"&gt;[2]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;More information at:
&lt;a class="reference external" href="http://stackoverflow.com/questions/7770728/group-vs-role-any-real-difference"&gt;http://stackoverflow.com/questions/7770728/group-vs-role-any-real-difference&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="section" id="the-difference-between-permission-acl-and-ace"&gt;
&lt;h3&gt;The difference between permission, ACL and ACE&lt;/h3&gt;
&lt;blockquote class="epigraph"&gt;
&lt;p&gt;An ACL is a list of Access Control Entry (ACE) enabling or disabling
acces rights to a person or a group.&lt;/p&gt;
&lt;p class="attribution"&gt;&lt;a class="reference external" href="https://en.wikipedia.org/wiki/Access_Control_List"&gt;https://en.wikipedia.org/wiki/Access_Control_List&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I would even say, in our case, "to a &lt;em&gt;principal&lt;/em&gt;". For instance:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;create_record: alexis,remy,tarek
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This ACE gives the &lt;tt class="docutils literal"&gt;create&lt;/tt&gt; permission on the &lt;tt class="docutils literal"&gt;record&lt;/tt&gt; object to the users
Tarek, Rmy and Alexis.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="permissions-delegation"&gt;
&lt;h2&gt;Permissions delegation&lt;/h2&gt;
&lt;p&gt;Imagine the following example, where Alice stores two types of data online:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;a list of contacts ;&lt;/li&gt;
&lt;li&gt;a list of tasks, which can be associated to her contacts.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Alice has all the rights on its data.&lt;/p&gt;
&lt;p&gt;However, she's using two applications which should have a restricted access:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;One application to handle contacts, to which she wants to delegate the entire
management: &lt;tt class="docutils literal"&gt;contacts:write&lt;/tt&gt; ;&lt;/li&gt;
&lt;li&gt;Another application to handle the tasks, to which she wants to delegate the
management of the tasks, and the reading of the contacts: &lt;tt class="docutils literal"&gt;contacts:read
tasks:write&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;She wants to prevent her contacts application to access the tasks and the tasks
app should not be able to update existing contacts, just eventually creating
new ones.&lt;/p&gt;
&lt;p&gt;She then needs a way to delegate some of her permissions to a third party (the
app).&lt;/p&gt;
&lt;p&gt;That's precisely the role of &lt;a class="reference external" href="http://tools.ietf.org/html/rfc6749#page-23"&gt;OAuth2 scopes&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;During the connection of a user, a window will ask her which access she wants
to give to the application that will act on her behalf.&lt;/p&gt;
&lt;p&gt;The service will then have access to these &lt;em&gt;scopes&lt;/em&gt; by looking at the
used authentication token. This information should be considered as a user
input (that is, we cannot trust it). It is what the user &lt;em&gt;wants&lt;/em&gt;, not what the
user &lt;em&gt;should have access to&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;It's possible that the user don't have access to the requested data. The
service should use two levels of permissions: the user ones, and the ones that
were delegated to the application.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="namespaces"&gt;
&lt;h2&gt;Namespaces&lt;/h2&gt;
&lt;p&gt;In our initial implementation of &lt;em&gt;Kinto&lt;/em&gt; (our generic data storage service),
the &lt;em&gt;namespace&lt;/em&gt; was implicit: stored data was necessarily tied to the connected
user.&lt;/p&gt;
&lt;p&gt;User data were then impossible to share.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Namespaces&lt;/em&gt; are a simple way to handle the data sharing problem.&lt;/p&gt;
&lt;p&gt;We chose to re-use the GitHub and BitBucket mode, which uses "organisations" as
&lt;em&gt;namespaces&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;In our case, it's possible to create "buckets", which are one of these
&lt;em&gt;namespaces&lt;/em&gt;. A bucket is a container for collections and user groups.&lt;/p&gt;
&lt;p&gt;ACLs on these collections can be given to certain groups of the bucket, and
directly to other &lt;em&gt;principals&lt;/em&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="our-api-proposal"&gt;
&lt;h2&gt;Our API proposal&lt;/h2&gt;
&lt;div class="section" id="manipulated-objects"&gt;
&lt;h3&gt;Manipulated objects&lt;/h3&gt;
&lt;p&gt;To handle permissions, we identified the following objects:&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="23%"&gt;&lt;/col&gt;
&lt;col width="77%"&gt;&lt;/col&gt;
&lt;/colgroup&gt;
&lt;thead valign="bottom"&gt;
&lt;tr&gt;&lt;th class="head"&gt;Object&lt;/th&gt;
&lt;th class="head"&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;&lt;strong&gt;bucket&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;We can see them as &lt;em&gt;namespaces&lt;/em&gt;. They allow to have
different collections having the same name but stored
in different &lt;em&gt;buckets&lt;/em&gt; so that data are distinct.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;strong&gt;collection&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;A list of records.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;strong&gt;record&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;A record from a collection&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;strong&gt;group&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;A group of principals&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;To define ACLs, there is a hierarchy: objects inherit the ACLs from their
parents.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;           +---------------+
           | Bucket        |
           +---------------+
    +-----&amp;gt;+ - id          +&amp;lt;---+
    |      | - permissions |    |
    |      +---------------+    |
    |                           |
    |                           |
    |                           |
    |                           |
    |                           |
+---+-----------+        +------+---------+
| Collection    |        | Group          |
+---------------+        +----------------+
| - id          |        |  - id          |
| - permissions |        |  - members     |
+------+--------+        |  - permissions |
       ^                 +----------------+
       |
       |
+------+---------+
| Record         |
+----------------+
|  - id          |
|  - data        |
|  - permissions |
+----------------+
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="permissions"&gt;
&lt;h3&gt;Permissions&lt;/h3&gt;
&lt;p&gt;For all of these objects, we identified the following permissions:&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="23%"&gt;&lt;/col&gt;
&lt;col width="77%"&gt;&lt;/col&gt;
&lt;/colgroup&gt;
&lt;thead valign="bottom"&gt;
&lt;tr&gt;&lt;th class="head"&gt;Permission&lt;/th&gt;
&lt;th class="head"&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;&lt;strong&gt;read&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;The permission to read the content of
the object and all its children.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;strong&gt;write&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;The permission to modify and
administration an object and all its
children objects. The &lt;em&gt;write&lt;/em&gt;
permission allows reading, modification
and deletion of objects, and the
handling of permissions on this object.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;strong&gt;create&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;The permission to create the specified
child object. For instance:
&lt;tt class="docutils literal"&gt;collections:create&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;To each specified permission on an object is associated a list of &lt;em&gt;principals&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;For the &lt;tt class="docutils literal"&gt;create&lt;/tt&gt; permission, we are forced to specify which child the
permission applies to since an object can have different kind of child nodes.
For instance: &lt;tt class="docutils literal"&gt;collections:create&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;groups:create&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;We don't have a &lt;cite&gt;delete&lt;/cite&gt; and &lt;cite&gt;update&lt;/cite&gt; permission so far, because we don't have
any use case which needs them. Whoever with the &lt;tt class="docutils literal"&gt;write&lt;/tt&gt; permission can also
delete a record.&lt;/p&gt;
&lt;p&gt;Permissions from an object are inherited from its parent. For instance,
a record created in a collection available to anyone will also be available to
anyone.&lt;/p&gt;
&lt;p&gt;Said differently, it's not possible that an object has a more restrictive
permission that its parent.&lt;/p&gt;
&lt;p&gt;Here is a complete list of permissions:&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="21%"&gt;&lt;/col&gt;
&lt;col width="32%"&gt;&lt;/col&gt;
&lt;col width="47%"&gt;&lt;/col&gt;
&lt;/colgroup&gt;
&lt;thead valign="bottom"&gt;
&lt;tr&gt;&lt;th class="head"&gt;Object&lt;/th&gt;
&lt;th class="head"&gt;Associated permissions&lt;/th&gt;
&lt;th class="head"&gt;Comment&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;Configuration
(.ini)&lt;/td&gt;
&lt;td&gt;&lt;cite&gt;buckets:create&lt;/cite&gt;&lt;/td&gt;
&lt;td&gt;&lt;em&gt;Principals&lt;/em&gt; who can create
a bucket are defined in the
service configuration (for
instance "authenticated users")&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td rowspan="4"&gt;&lt;tt class="docutils literal"&gt;bucket&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;cite&gt;write&lt;/cite&gt;&lt;/td&gt;
&lt;td&gt;The "admin" permission for the
&lt;em&gt;bucket&lt;/em&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;cite&gt;read&lt;/cite&gt;&lt;/td&gt;
&lt;td&gt;The permission to read all the
content of all objects in the
&lt;em&gt;bucket&lt;/em&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;cite&gt;collections:create&lt;/cite&gt;&lt;/td&gt;
&lt;td&gt;Permission to create
collections in the &lt;em&gt;bucket&lt;/em&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;cite&gt;groups:create&lt;/cite&gt;&lt;/td&gt;
&lt;td&gt;Permission to create groups
in the &lt;em&gt;bucket&lt;/em&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td rowspan="3"&gt;&lt;tt class="docutils literal"&gt;collection&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;cite&gt;write&lt;/cite&gt;&lt;/td&gt;
&lt;td&gt;Permission to administrate all
objects in the collection.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;cite&gt;read&lt;/cite&gt;&lt;/td&gt;
&lt;td&gt;Permission to consult all
objects in the collection.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;cite&gt;records:create&lt;/cite&gt;&lt;/td&gt;
&lt;td&gt;Permission to create new
records in the collection.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td rowspan="2"&gt;&lt;tt class="docutils literal"&gt;record&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;cite&gt;write&lt;/cite&gt;&lt;/td&gt;
&lt;td&gt;Permission to modify or share
the record.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;cite&gt;read&lt;/cite&gt;&lt;/td&gt;
&lt;td&gt;Permission to read the record.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td rowspan="2"&gt;&lt;tt class="docutils literal"&gt;group&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;cite&gt;write&lt;/cite&gt;&lt;/td&gt;
&lt;td&gt;Permission to administrate the
group.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;cite&gt;read&lt;/cite&gt;&lt;/td&gt;
&lt;td&gt;Permission to know the members of
the group.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="section" id="id5"&gt;
&lt;h3&gt;&lt;em&gt;principals&lt;/em&gt;&lt;/h3&gt;
&lt;p&gt;Actors connecting to the storage service can authenticate themselves.&lt;/p&gt;
&lt;p&gt;They then receive a list of &lt;em&gt;principals&lt;/em&gt;:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;Everyone&lt;/tt&gt;: the &lt;em&gt;principal&lt;/em&gt; given to all actors (authenticated or not);&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;Authenticated&lt;/tt&gt;: the &lt;em&gt;principal&lt;/em&gt; given to all authenticated actors;&lt;/li&gt;
&lt;li&gt;A &lt;em&gt;principal&lt;/em&gt; identifying the actor, for instance &lt;tt class="docutils literal"&gt;fxa:32aa95a474c984d41d395e2d0b614aa2&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In order to avoid identifiers collisions, the actor &lt;em&gt;principal&lt;/em&gt; is built from
the authentication type used (&lt;tt class="docutils literal"&gt;system&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;basic&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;ipaddr&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;hawk&lt;/tt&gt;,
&lt;tt class="docutils literal"&gt;fxa&lt;/tt&gt;) and the identifier.&lt;/p&gt;
&lt;p&gt;Depending the &lt;em&gt;bucket&lt;/em&gt; on which the action is taking place, the groups the user
is a member of are also added to her list of principals (e.g.
&lt;tt class="docutils literal"&gt;group:moderators&lt;/tt&gt;)&lt;/p&gt;
&lt;p&gt;So, if Bob connects with his &lt;em&gt;Firefox Account&lt;/em&gt; on the &lt;tt class="docutils literal"&gt;servicedenuages_blog&lt;/tt&gt;
bucket, on which he is a member of the &lt;tt class="docutils literal"&gt;moderators&lt;/tt&gt; group, he would have the
following list of principals:
&lt;tt class="docutils literal"&gt;Everyone, Authenticated, fxa:32aa95a474c984d41d395e2d0b614aa2, group:moderators&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;It's then possible to assign a permission to Bob by using one of these
&lt;em&gt;principals&lt;/em&gt;.&lt;/p&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;The &lt;tt class="docutils literal"&gt;&amp;lt;userid&amp;gt;&lt;/tt&gt; &lt;strong&gt;principal&lt;/strong&gt; depends on the authentication &lt;em&gt;back-end&lt;/em&gt; used (e.g.
&lt;tt class="docutils literal"&gt;github:leplatrem&lt;/tt&gt;).&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="a-few-examples"&gt;
&lt;h3&gt;A few examples&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Blog&lt;/strong&gt;&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="35%"&gt;&lt;/col&gt;
&lt;col width="18%"&gt;&lt;/col&gt;
&lt;col width="46%"&gt;&lt;/col&gt;
&lt;/colgroup&gt;
&lt;thead valign="bottom"&gt;
&lt;tr&gt;&lt;th class="head"&gt;Object&lt;/th&gt;
&lt;th class="head"&gt;Permissions&lt;/th&gt;
&lt;th class="head"&gt;Principals&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;bucket:blog&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;write&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;fxa:&amp;lt;blog&lt;/span&gt; owner id&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td rowspan="2"&gt;&lt;tt class="docutils literal"&gt;collection:articles&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;write&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;group:moderators&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;read&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;Everyone&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;record:569e28r98889&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;write&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;fxa:&amp;lt;co-author&lt;/span&gt; id&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Wiki&lt;/strong&gt;&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="35%"&gt;&lt;/col&gt;
&lt;col width="18%"&gt;&lt;/col&gt;
&lt;col width="46%"&gt;&lt;/col&gt;
&lt;/colgroup&gt;
&lt;thead valign="bottom"&gt;
&lt;tr&gt;&lt;th class="head"&gt;Object&lt;/th&gt;
&lt;th class="head"&gt;Permissions&lt;/th&gt;
&lt;th class="head"&gt;Principals&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;bucket:wiki&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;write&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;fxa:&amp;lt;wiki&lt;/span&gt; administrator id&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td rowspan="2"&gt;&lt;tt class="docutils literal"&gt;collection:articles&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;write&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;Authenticated&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;read&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;Everyone&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Polls&lt;/strong&gt;&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="34%"&gt;&lt;/col&gt;
&lt;col width="31%"&gt;&lt;/col&gt;
&lt;col width="35%"&gt;&lt;/col&gt;
&lt;/colgroup&gt;
&lt;thead valign="bottom"&gt;
&lt;tr&gt;&lt;th class="head"&gt;Object&lt;/th&gt;
&lt;th class="head"&gt;Permissions&lt;/th&gt;
&lt;th class="head"&gt;Principals&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td rowspan="2"&gt;&lt;tt class="docutils literal"&gt;bucket:poll&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;write&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;fxa:&amp;lt;admin&lt;/span&gt; id&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;collection:create&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;Authenticated&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td rowspan="2"&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;collection:&amp;lt;poll&lt;/span&gt; id&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;write&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;fxa:&amp;lt;poll&lt;/span&gt; author id&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;record:create&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;Everyone&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Collaborative maps&lt;/strong&gt;&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="34%"&gt;&lt;/col&gt;
&lt;col width="31%"&gt;&lt;/col&gt;
&lt;col width="35%"&gt;&lt;/col&gt;
&lt;/colgroup&gt;
&lt;thead valign="bottom"&gt;
&lt;tr&gt;&lt;th class="head"&gt;Object&lt;/th&gt;
&lt;th class="head"&gt;Permissions&lt;/th&gt;
&lt;th class="head"&gt;Principals&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td rowspan="2"&gt;&lt;tt class="docutils literal"&gt;bucket:maps&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;write&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;fxa:&amp;lt;admin&lt;/span&gt; id&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;collection:create&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;Authenticated&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td rowspan="2"&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;collection:&amp;lt;map&lt;/span&gt; id&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;write&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;fxa:&amp;lt;map&lt;/span&gt; author id&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;read&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;Everyone&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;record:&amp;lt;record&lt;/span&gt; id&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;write&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;fxa:&amp;lt;maintainer&lt;/span&gt; id&amp;gt;&lt;/tt&gt;
(&lt;em&gt;ex. event staff member
maintaining venues&lt;/em&gt;)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Platforms&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Of course, there are many ways to modelize common use cases. For instance, it's
possible to imagine a wiki platform (ala wikia.com) where wikis are private by
default and some pages can be published:&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="32%"&gt;&lt;/col&gt;
&lt;col width="30%"&gt;&lt;/col&gt;
&lt;col width="38%"&gt;&lt;/col&gt;
&lt;/colgroup&gt;
&lt;thead valign="bottom"&gt;
&lt;tr&gt;&lt;th class="head"&gt;Object&lt;/th&gt;
&lt;th class="head"&gt;Permissions&lt;/th&gt;
&lt;th class="head"&gt;Principals&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td rowspan="3"&gt;&lt;tt class="docutils literal"&gt;bucket:freewiki&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;write&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;fxa:&amp;lt;administrator&lt;/span&gt; id&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;collection:create&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;Authenticated&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;group:create&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;Authenticated&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td rowspan="2"&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;collection:&amp;lt;wiki&lt;/span&gt; id&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;write&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;fxa:&amp;lt;wiki&lt;/span&gt; owner id&amp;gt;&lt;/tt&gt;,
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;group:&amp;lt;editors&lt;/span&gt; id&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;read&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;group:&amp;lt;readers&lt;/span&gt; id&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;record:&amp;lt;page&lt;/span&gt; id&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;read&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;Everyone&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="section" id="the-http-api"&gt;
&lt;h3&gt;The HTTP API&lt;/h3&gt;
&lt;p&gt;During the creation of an object, the user is given the &lt;tt class="docutils literal"&gt;write&lt;/tt&gt; permission on
the object:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nf"&gt;PUT&lt;/span&gt; &lt;span class="nn"&gt;/v1/buckets/servicedenuages_blog&lt;/span&gt; &lt;span class="kr"&gt;HTTP&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="m"&gt;1.1&lt;/span&gt;
&lt;span class="na"&gt;Authorization&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="l"&gt;Bearer 0b9c2625dc21ef05f6ad4ddf47c5f203837aa32ca42fced54c2625dc21efac32&lt;/span&gt;
&lt;span class="na"&gt;Accept&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="l"&gt;application/json&lt;/span&gt;

HTTP/1.1 201 Created
Content-Type: application/json; charset=utf-8

{
    "id": "servicedenuages_blog",
    "permissions": {
        "write": ["fxa:49d02d55ad10973b7b9d0dc9eba7fdf0"]
    }
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It's possible to add permissions using the &lt;tt class="docutils literal"&gt;PATCH&lt;/tt&gt; HTTP method.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nf"&gt;PATCH&lt;/span&gt; &lt;span class="nn"&gt;/v1/buckets/servicedenuages_blog/collections/articles&lt;/span&gt; &lt;span class="kr"&gt;HTTP&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="m"&gt;1.1&lt;/span&gt;
&lt;span class="na"&gt;Authorization&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="l"&gt;Bearer 0b9c2625dc21ef05f6ad4ddf47c5f203837aa32ca42fced54c2625dc21efac32&lt;/span&gt;
&lt;span class="na"&gt;Accept&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="l"&gt;application/json&lt;/span&gt;

{
    "permissions": {
        "read": ["+system.Everyone"]
    }
}

HTTP/1.1 201 Created
Content-Type: application/json; charset=utf-8

{
    "id": "servicedenuages_blog",
    "permissions": {
        "write": ["fxa:49d02d55ad10973b7b9d0dc9eba7fdf0"],
        "read": ["system.Everyone"]
    }
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For &lt;tt class="docutils literal"&gt;PATCH&lt;/tt&gt;, we are thinking about using a syntax prefixed with a &lt;tt class="docutils literal"&gt;+&lt;/tt&gt; or
a &lt;tt class="docutils literal"&gt;-&lt;/tt&gt; to add or remove &lt;em&gt;principals&lt;/em&gt; on an ACL.&lt;/p&gt;
&lt;p&gt;It is also possible to do a &lt;tt class="docutils literal"&gt;PUT&lt;/tt&gt; to reset the ACLs, knowing that the &lt;tt class="docutils literal"&gt;PUT&lt;/tt&gt;
will then add the current user to the list. It's possible to use a &lt;tt class="docutils literal"&gt;PATCH&lt;/tt&gt; to
remove herself from the list. Adding the current user allows to avoid
situations where nobody has access to the data anymore.&lt;/p&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;The &lt;tt class="docutils literal"&gt;create&lt;/tt&gt; permission is used for a &lt;tt class="docutils literal"&gt;POST&lt;/tt&gt; but also for a &lt;tt class="docutils literal"&gt;PUT&lt;/tt&gt;
when the record doesn't exist.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="the-specific-case-of-user-data"&gt;
&lt;h3&gt;The specific case of user data&lt;/h3&gt;
&lt;p&gt;One of the current feature of &lt;em&gt;Kinto&lt;/em&gt; is to handle record collections by user.&lt;/p&gt;
&lt;p&gt;On &lt;em&gt;*nix&lt;/em&gt; systems, it's possible, for an application, to save configuration
for the current user in her personal folder, without bothering about its
specific location, using &lt;tt class="docutils literal"&gt;~&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;In our case, if an application want to save contacts for a user, it can use
a shortcut to reference the &lt;em&gt;personal&lt;/em&gt; bucket of the user:
&lt;tt class="docutils literal"&gt;/buckets/personal/collections/contacts&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;This URL will return a &lt;tt class="docutils literal"&gt;HTTP 307&lt;/tt&gt; to the current user &lt;em&gt;bucket&lt;/em&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nf"&gt;POST&lt;/span&gt; &lt;span class="nn"&gt;/v1/buckets/personal/collections/contacts/records&lt;/span&gt; &lt;span class="kr"&gt;HTTP&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="m"&gt;1.1&lt;/span&gt;

{
   "name": "Rmy",
   "emails": ["remy@example.com"],
   "phones": ["+330820800800"]
}

HTTP/1.1 307 Temporary Redirect
Location: /v1/buckets/fxa:49d02d55ad10973b7b9d0dc9eba7fdf0/collections/contacts/records
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Like so, it's possible for Alice to share her contacts with Bob. She just have
to give the &lt;tt class="docutils literal"&gt;read&lt;/tt&gt; permission to Bob on her collection and give him the
complete URL:
&lt;tt class="docutils literal"&gt;/v1/buckets/fxa:49d02d55ad10973b7b9d0dc9eba7fdf0/collections/contacts/records&lt;/tt&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="id6"&gt;
&lt;h3&gt;Permissions delegation&lt;/h3&gt;
&lt;p&gt;In &lt;em&gt;Kinto&lt;/em&gt;, we defined a format to restrict permissions using OAuth2 scopes:
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;storage:&amp;lt;bucket_id&amp;gt;:&amp;lt;collection_id&amp;gt;:&amp;lt;permissions_list&amp;gt;&lt;/span&gt;&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;Taking back the previous &lt;em&gt;tasks&lt;/em&gt; example, it is possible for Bob to create
a specific OAuth2 token with the following &lt;em&gt;scopes&lt;/em&gt;:
&lt;tt class="docutils literal"&gt;profile storage:todolist:tasks:write storage:personal:contacts:read+records:create&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;Like so, even if Bob has the &lt;tt class="docutils literal"&gt;write&lt;/tt&gt; permission on his contacts, the
application using this token will only be able to read the existing contacts
and add new ones.&lt;/p&gt;
&lt;p&gt;One part of the complexity is to manage presenting these &lt;em&gt;scopes&lt;/em&gt; in a readable
way to the user, so she or he is able to chose which permissions to give to the
applications acting on her behalf.&lt;/p&gt;
&lt;p&gt;So, here is where we're at with our thinking!&lt;/p&gt;
&lt;p&gt;If you have things to add or discuss with this proposal, don't hesitate to
interrupt us while it's still possible!&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</summary></entry><entry><title>La gestion des permissions</title><link href="http://www.servicedenuages.fr/en/../la-gestion-des-permissions" rel="alternate"></link><updated>2015-05-12T00:00:00+02:00</updated><author><name>Service de Nuages</name></author><id>tag:www.servicedenuages.fr,2015-05-12:en/../la-gestion-des-permissions</id><summary type="html">&lt;p&gt;Dans le cadre de la cration d'un service de stockage de donnes personnelles
(Kinto), la gestion des permissions est un des gros challenges : qui doit avoir
accs  quoi, et comment le dfinir ?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;tl;dr: Quelques retours sur le vocabulaire des systmes de permission et sur nos ides pour l'implementation des permissions dans un stockage gnrique.&lt;/strong&gt;&lt;/p&gt;
&lt;div class="section" id="la-problematique"&gt;
&lt;h2&gt;La problmatique&lt;/h2&gt;
&lt;p&gt;La problmatique est simple : des donnes sont stockes en ligne, et il
faut un moyen de pouvoir les partager avec d'autres personnes.&lt;/p&gt;
&lt;p&gt;En regardant les cas d'utilisations, on se rend compte qu'on a plusieurs types
d'utilisateurs :&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;les utilisateurs "finaux" (vous) ;&lt;/li&gt;
&lt;li&gt;les applications qui interagissent en leurs noms.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Tous les intervenants n'ont donc pas les mmes droits : certains doivent
pouvoir lire, d'autres crire, d'autres encore crer de nouveaux
enregistrements, et le contrle doit pouvoir s'effectuer de manire fine : il
doit tre possible de lire un enregistrement mais pas un autre, par exemple.&lt;/p&gt;
&lt;p&gt;Nous sommes partis du constat que les solutions disponibles n'apportaient pas
une rponse satisfaisante  ces besoins.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="un-probleme-de-vocabulaire"&gt;
&lt;h2&gt;Un problme de vocabulaire&lt;/h2&gt;
&lt;p&gt;Le principal problme rencontr lors des rflexions ft le vocabulaire.&lt;/p&gt;
&lt;p&gt;Voici ci-dessous une explication des diffrents termes.&lt;/p&gt;
&lt;div class="section" id="le-concept-de-principal"&gt;
&lt;h3&gt;Le concept de  principal &lt;/h3&gt;
&lt;p&gt;Un &lt;em&gt;principal&lt;/em&gt;, en scurit informatique, est une entit qui peut tre
authentifie par un systme informatique. &lt;a class="footnote-reference" href="#id2" id="id1"&gt;[1]&lt;/a&gt; En Franais il s'agit
du  commettant , l'acteur qui commet l'action (oui, le terme est conceptuel !)&lt;/p&gt;
&lt;p&gt;Il peut s'agir aussi bien d'un individu, d'un ordinateur, d'un
service ou d'un groupe regroupant l'une de ces entits, ce qui
est plus large que le classique  &lt;em&gt;user id&lt;/em&gt; .&lt;/p&gt;
&lt;p&gt;Les permissions sont alors associes  ces &lt;em&gt;principals&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Par exemple, un utilisateur est identifi de manire unique lors de la
connexion par le systme d'authentification dont le rle est de
dfinir une liste de &lt;em&gt;principals&lt;/em&gt; pour l'utilisateur se connectant.&lt;/p&gt;
&lt;table class="docutils footnote" frame="void" id="id2" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label"&gt;&lt;/col&gt;&lt;col&gt;&lt;/col&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id1"&gt;[1]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;Pour en savoir plus sur les &lt;em&gt;principals&lt;/em&gt; :
&lt;a class="reference external" href="https://en.wikipedia.org/wiki/Principal_%28computer_security%29"&gt;https://en.wikipedia.org/wiki/Principal_%28computer_security%29&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="section" id="la-difference-entre-role-et-groupe"&gt;
&lt;h3&gt;La diffrence entre rle et groupe&lt;/h3&gt;
&lt;p&gt;De but en blanc, il n'est pas vident de dfinir prcisment la
diffrence entre ces deux concepts qui permettent d'associer
des permissions  un groupe de &lt;em&gt;principals&lt;/em&gt;. &lt;a class="footnote-reference" href="#id4" id="id3"&gt;[2]&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;La diffrence est principalement smantique. Mais on peut y voir une
diffrence dans la  direction  de la relation entre les deux concepts.&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Un rle est une liste de permissions que l'on associe  un &lt;em&gt;principal&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Un groupe est une liste de &lt;em&gt;principals&lt;/em&gt; que l'on peut associer  une permission.&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="docutils footnote" frame="void" id="id4" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label"&gt;&lt;/col&gt;&lt;col&gt;&lt;/col&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id3"&gt;[2]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;Plus d'informations :
&lt;a class="reference external" href="http://stackoverflow.com/questions/7770728/group-vs-role-any-real-difference"&gt;http://stackoverflow.com/questions/7770728/group-vs-role-any-real-difference&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="section" id="la-difference-entre-permission-acl-ace"&gt;
&lt;h3&gt;La diffrence entre permission, ACL, ACE&lt;/h3&gt;
&lt;blockquote class="epigraph"&gt;
&lt;p&gt;Une ACL est une liste dAccess Control Entry (ACE) ou entre de contrle d'accs
donnant ou supprimant des droits d'accs  une personne ou un groupe.&lt;/p&gt;
&lt;p class="attribution"&gt;&lt;a class="reference external" href="https://fr.wikipedia.org/wiki/Access_Control_List"&gt;https://fr.wikipedia.org/wiki/Access_Control_List&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Je dirais mme plus, dans notre cas,   un &lt;em&gt;principal&lt;/em&gt; . Par exemple:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;create_record: alexis,remy,tarek
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Cet ACE donne la permission &lt;tt class="docutils literal"&gt;create&lt;/tt&gt; sur l'objet &lt;tt class="docutils literal"&gt;record&lt;/tt&gt; aux
utilisateurs Tarek, Rmy et Alexis.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="la-delegation-de-permissions"&gt;
&lt;h2&gt;La dlgation de permissions&lt;/h2&gt;
&lt;p&gt;Imaginez l'exemple suivant, o un utilisateur stocke deux types de donnes en
ligne :&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;des contacts ;&lt;/li&gt;
&lt;li&gt;une liste de tches  faire qu'il peut associer  ses contacts.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;L'utilisateur a tous les droits sur ses donnes.&lt;/p&gt;
&lt;p&gt;Cependant il utilise deux applications qui doivent elles avoir un accs restreint :&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;une application de gestion des contacts  qui il souhaite dlguer
la gestion intgrale de ses contacts : &lt;tt class="docutils literal"&gt;contacts:write&lt;/tt&gt; ;&lt;/li&gt;
&lt;li&gt;une application de gestion des tches  qui il souhaite dlguer la
gestion des tches : &lt;tt class="docutils literal"&gt;contacts:read tasks:write&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Il souhaite que son application de contacts ne puisse pas accder 
ses tches et que son application de tches ne puisse pas modifier ses
contacts existants, juste ventuellement en crer de nouveaux.&lt;/p&gt;
&lt;p&gt;Il lui faut donc un moyen de dlguer certains de ses droits  un tiers
(l'application).&lt;/p&gt;
&lt;p&gt;C'est prcisment le rle des &lt;a class="reference external" href="http://tools.ietf.org/html/rfc6749#page-23"&gt;scopes OAuth2&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Lors de la connexion d'un utilisateur, une fentre lui demande quels
accs il veut donner  l'application qui va agir en son nom.&lt;/p&gt;
&lt;p&gt;Le service aura ensuite accs  ces &lt;em&gt;scopes&lt;/em&gt; en regardant le jeton
d'authentification utilis. Cette information doit tre
considre comme une entre utilisateur (c'est  dire qu'on ne peut
pas lui faire confiance). Il s'agit de ce que l'utilisateur souhaite.&lt;/p&gt;
&lt;p&gt;Or, il est galement possible que l'utilisateur n'ait pas accs aux donnes
qu'il demande. Le service doit donc utiliser deux niveaux de permissions :
celles de l'utilisateur, et celles qui ont t dlgues  l'application.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="espace-de-noms"&gt;
&lt;h2&gt;Espace de noms&lt;/h2&gt;
&lt;p&gt;Dans notre implmentation initiale de &lt;em&gt;Kinto&lt;/em&gt; (notre service de stockage en
construction), l'espace de nom tait implicite : les donnes stockes taient
ncessairement celles de l'utilisateur connect.&lt;/p&gt;
&lt;p&gt;Les donnes d'un utilisateur taient donc cloisonnes et impossible  partager.&lt;/p&gt;
&lt;p&gt;L'utilisation d'espaces de noms est une manire simple de grer le partage des donnes.&lt;/p&gt;
&lt;p&gt;Nous avons choisi de reprendre le modle de GitHub et de Bitbucket, qui
utilisent les  organisations  comme espaces de noms.&lt;/p&gt;
&lt;p&gt;Dans notre cas, il est possible de crer des "buckets", qui correspondent  ces
espaces de noms. Un bucket est un conteneur de collections et de groupes
utilisateurs.&lt;/p&gt;
&lt;p&gt;Les ACLs sur ces collections peuvent tre attribues  certains groupes du
&lt;em&gt;bucket&lt;/em&gt; ainsi qu' d'autres &lt;em&gt;principals&lt;/em&gt; directement.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="notre-proposition-d-api"&gt;
&lt;h2&gt;Notre proposition d'API&lt;/h2&gt;
&lt;div class="section" id="les-objets-manipules"&gt;
&lt;h3&gt;Les objets manipuls&lt;/h3&gt;
&lt;p&gt;Pour mettre en place la gestion des permissions, nous avons identifi les
objets suivants :&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="23%"&gt;&lt;/col&gt;
&lt;col width="77%"&gt;&lt;/col&gt;
&lt;/colgroup&gt;
&lt;thead valign="bottom"&gt;
&lt;tr&gt;&lt;th class="head"&gt;Objet&lt;/th&gt;
&lt;th class="head"&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;&lt;strong&gt;bucket&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;On peut les voir comme des espaces de noms. Ils
permettent d'avoir diffrentes collections portant
le mme nom mais stockes dans diffrents &lt;em&gt;buckets&lt;/em&gt; de
manire  ce que les donnes soient distinctes.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;strong&gt;collection&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;Une liste d'enregistrements.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;strong&gt;record&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;Un enregistrement d'une collection.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;strong&gt;group&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;Un groupe de commetants ( &lt;em&gt;principals&lt;/em&gt; ).&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Pour la dfinition des ACLs, il y a une hirarchie et les objets  hritent  des
ACLs de leur parents :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;           +---------------+
           | Bucket        |
           +---------------+
    +-----&amp;gt;+ - id          +&amp;lt;---+
    |      | - permissions |    |
    |      +---------------+    |
    |                           |
    |                           |
    |                           |
    |                           |
    |                           |
+---+-----------+        +------+---------+
| Collection    |        | Group          |
+---------------+        +----------------+
| - id          |        |  - id          |
| - permissions |        |  - members     |
+------+--------+        |  - permissions |
       ^                 +----------------+
       |
       |
+------+---------+
| Record         |
+----------------+
|  - id          |
|  - data        |
|  - permissions |
+----------------+
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="les-permissions"&gt;
&lt;h3&gt;Les permissions&lt;/h3&gt;
&lt;p&gt;Pour chacun de ces objets nous avons identifi les permissions suivantes :&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="23%"&gt;&lt;/col&gt;
&lt;col width="77%"&gt;&lt;/col&gt;
&lt;/colgroup&gt;
&lt;thead valign="bottom"&gt;
&lt;tr&gt;&lt;th class="head"&gt;Permission&lt;/th&gt;
&lt;th class="head"&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;&lt;strong&gt;read&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;La permission de lire le contenu de
l'objet et de ses sous-objets.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;strong&gt;write&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;La permission de modifier et
d'administrer un objet et ses sous-
objets. La permission &lt;em&gt;write&lt;/em&gt; permet la
lecture, modification et suppression
d'un objet ainsi que la gestion de ses
permissions.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;strong&gt;create&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;La permission de crer le sous-objet
spcifi. Par exemple:
&lt;tt class="docutils literal"&gt;collections:create&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt; chaque permission spcifie sur un objet est associe une liste de
&lt;em&gt;principals&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Dans le cas de la permission &lt;tt class="docutils literal"&gt;create&lt;/tt&gt; on est oblig de spcifier
l'objet enfant en question car un objet peut avoir plusieurs types
d'enfants. Par exemple : &lt;tt class="docutils literal"&gt;collections:create&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;groups:create&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;Nous n'avons pour l'instant pas de permission pour &lt;cite&gt;delete&lt;/cite&gt; et &lt;cite&gt;update&lt;/cite&gt;,
puisque nous n'avons pas trouv de cas d'utilisation qui les ncessitent.
Quiconque avec le droit d'criture peut donc supprimer un enregistrement.&lt;/p&gt;
&lt;p&gt;Les permissions d'un objet sont hrites de son parent. Par exemple,
un enregistrement cr dans une collection accessible  tout le monde
en lecture sera lui aussi accessible  tout le monde.&lt;/p&gt;
&lt;p&gt;Par consquent, les permissions sont cumules. Autrement dit, il n'est pas
possible qu'un objet ait des permissions plus restrictives que son parent.&lt;/p&gt;
&lt;p&gt;Voici la liste exhaustive des permissions :&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="21%"&gt;&lt;/col&gt;
&lt;col width="32%"&gt;&lt;/col&gt;
&lt;col width="47%"&gt;&lt;/col&gt;
&lt;/colgroup&gt;
&lt;thead valign="bottom"&gt;
&lt;tr&gt;&lt;th class="head"&gt;Objet&lt;/th&gt;
&lt;th class="head"&gt;Permissions associes&lt;/th&gt;
&lt;th class="head"&gt;Commentaire&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;Configuration
(.ini)&lt;/td&gt;
&lt;td&gt;&lt;cite&gt;buckets:create&lt;/cite&gt;&lt;/td&gt;
&lt;td&gt;Les &lt;em&gt;principals&lt;/em&gt; ayant le droit
de crer un bucket sont dfinis
dans la configuration du serveur.
(&lt;em&gt;ex. utilisateurs authentifis&lt;/em&gt;)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td rowspan="4"&gt;&lt;tt class="docutils literal"&gt;bucket&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;cite&gt;write&lt;/cite&gt;&lt;/td&gt;
&lt;td&gt;C'est en quelque sorte le droit
d'administration du &lt;em&gt;bucket&lt;/em&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;cite&gt;read&lt;/cite&gt;&lt;/td&gt;
&lt;td&gt;C'est le droit de lire le contenu
de tous les objets du &lt;em&gt;bucket&lt;/em&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;cite&gt;collections:create&lt;/cite&gt;&lt;/td&gt;
&lt;td&gt;Permission de crer des
collections dans le &lt;em&gt;bucket&lt;/em&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;cite&gt;groups:create&lt;/cite&gt;&lt;/td&gt;
&lt;td&gt;Permission de crer des groupes
dans le &lt;em&gt;bucket&lt;/em&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td rowspan="3"&gt;&lt;tt class="docutils literal"&gt;collection&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;cite&gt;write&lt;/cite&gt;&lt;/td&gt;
&lt;td&gt;Permission d'administrer tous les
objets de la collection.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;cite&gt;read&lt;/cite&gt;&lt;/td&gt;
&lt;td&gt;Permission de consulter tous les
objets de la collection.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;cite&gt;records:create&lt;/cite&gt;&lt;/td&gt;
&lt;td&gt;Permission de crer des nouveaux
enregistrement dans la collection.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td rowspan="2"&gt;&lt;tt class="docutils literal"&gt;record&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;cite&gt;write&lt;/cite&gt;&lt;/td&gt;
&lt;td&gt;Permission de modifier ou de
partager l'enregistrement.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;cite&gt;read&lt;/cite&gt;&lt;/td&gt;
&lt;td&gt;Permission de consulter
l'enregistrement.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td rowspan="2"&gt;&lt;tt class="docutils literal"&gt;group&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;cite&gt;write&lt;/cite&gt;&lt;/td&gt;
&lt;td&gt;Permission d'administrer le
groupe&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;cite&gt;read&lt;/cite&gt;&lt;/td&gt;
&lt;td&gt;Permission de consulter les
membres du groupe.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="section" id="les-principals"&gt;
&lt;h3&gt;Les  &lt;em&gt;principals&lt;/em&gt; &lt;/h3&gt;
&lt;p&gt;Les acteurs se connectant au service de stockage peuvent s'authentifier.&lt;/p&gt;
&lt;p&gt;Ils reoivent alors une liste de &lt;em&gt;principals&lt;/em&gt; :&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;Everyone&lt;/tt&gt;: le &lt;em&gt;principal&lt;/em&gt; donn  tous les acteurs (authentifis ou pas) ;&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;Authenticated&lt;/tt&gt;: le &lt;em&gt;principal&lt;/em&gt; donn  tous les acteurs authentifis ;&lt;/li&gt;
&lt;li&gt;un &lt;em&gt;principal&lt;/em&gt; identifiant l'acteur, par exemple &lt;tt class="docutils literal"&gt;fxa:32aa95a474c984d41d395e2d0b614aa2&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Afin d'viter les collisions d'identifiants, le &lt;em&gt;principal&lt;/em&gt; de l'acteur dpend
de son type d'authentification (&lt;tt class="docutils literal"&gt;system&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;basic&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;ipaddr&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;hawk&lt;/tt&gt;,
&lt;tt class="docutils literal"&gt;fxa&lt;/tt&gt;) et de son identifiant (unique par acteur).&lt;/p&gt;
&lt;p&gt;En fonction du &lt;em&gt;bucket&lt;/em&gt; sur lequel se passe l'action, les groupes dont
fait partie l'utilisateur sont galement ajouts  sa liste de
&lt;tt class="docutils literal"&gt;principals&lt;/tt&gt;. &lt;tt class="docutils literal"&gt;group:moderators&lt;/tt&gt; par exemple.&lt;/p&gt;
&lt;p&gt;Ainsi, si Bob se connecte avec &lt;em&gt;Firefox Accounts&lt;/em&gt; sur le &lt;em&gt;bucket&lt;/em&gt;
&lt;tt class="docutils literal"&gt;servicedenuages_blog&lt;/tt&gt; dans lequel il fait partie du groupe
&lt;tt class="docutils literal"&gt;moderators&lt;/tt&gt;, il aura la liste de &lt;em&gt;principals&lt;/em&gt; suivante :
&lt;tt class="docutils literal"&gt;Everyone, Authenticated, fxa:32aa95a474c984d41d395e2d0b614aa2, group:moderators&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;Il est donc possible d'assigner une permission  Bob en utilisant l'un de
ces quatre &lt;em&gt;principals&lt;/em&gt;.&lt;/p&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;Le &lt;em&gt;principal&lt;/em&gt; &lt;tt class="docutils literal"&gt;&amp;lt;userid&amp;gt;&lt;/tt&gt; dpend du &lt;em&gt;back-end&lt;/em&gt; d'authentification (e.g.
&lt;tt class="docutils literal"&gt;github:leplatrem&lt;/tt&gt;).&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="quelques-exemples"&gt;
&lt;h3&gt;Quelques exemples&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Blog&lt;/strong&gt;&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="35%"&gt;&lt;/col&gt;
&lt;col width="18%"&gt;&lt;/col&gt;
&lt;col width="46%"&gt;&lt;/col&gt;
&lt;/colgroup&gt;
&lt;thead valign="bottom"&gt;
&lt;tr&gt;&lt;th class="head"&gt;Objet&lt;/th&gt;
&lt;th class="head"&gt;Permissions&lt;/th&gt;
&lt;th class="head"&gt;Principals&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;bucket:blog&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;write&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;fxa:&amp;lt;blog&lt;/span&gt; owner id&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td rowspan="2"&gt;&lt;tt class="docutils literal"&gt;collection:articles&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;write&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;group:moderators&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;read&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;Everyone&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;record:569e28r98889&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;write&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;fxa:&amp;lt;co-author&lt;/span&gt; id&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Wiki&lt;/strong&gt;&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="35%"&gt;&lt;/col&gt;
&lt;col width="18%"&gt;&lt;/col&gt;
&lt;col width="46%"&gt;&lt;/col&gt;
&lt;/colgroup&gt;
&lt;thead valign="bottom"&gt;
&lt;tr&gt;&lt;th class="head"&gt;Object&lt;/th&gt;
&lt;th class="head"&gt;Permissions&lt;/th&gt;
&lt;th class="head"&gt;Principals&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;bucket:wiki&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;write&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;fxa:&amp;lt;wiki&lt;/span&gt; administrator id&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td rowspan="2"&gt;&lt;tt class="docutils literal"&gt;collection:articles&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;write&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;Authenticated&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;read&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;Everyone&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Sondages&lt;/strong&gt;&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="34%"&gt;&lt;/col&gt;
&lt;col width="31%"&gt;&lt;/col&gt;
&lt;col width="35%"&gt;&lt;/col&gt;
&lt;/colgroup&gt;
&lt;thead valign="bottom"&gt;
&lt;tr&gt;&lt;th class="head"&gt;Objet&lt;/th&gt;
&lt;th class="head"&gt;Permissions&lt;/th&gt;
&lt;th class="head"&gt;Principals&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td rowspan="2"&gt;&lt;tt class="docutils literal"&gt;bucket:poll&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;write&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;fxa:&amp;lt;admin&lt;/span&gt; id&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;collection:create&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;Authenticated&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td rowspan="2"&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;collection:&amp;lt;poll&lt;/span&gt; id&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;write&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;fxa:&amp;lt;poll&lt;/span&gt; author id&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;record:create&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;Everyone&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Cartes colaboratives&lt;/strong&gt;&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="34%"&gt;&lt;/col&gt;
&lt;col width="31%"&gt;&lt;/col&gt;
&lt;col width="35%"&gt;&lt;/col&gt;
&lt;/colgroup&gt;
&lt;thead valign="bottom"&gt;
&lt;tr&gt;&lt;th class="head"&gt;Objet&lt;/th&gt;
&lt;th class="head"&gt;Permissions&lt;/th&gt;
&lt;th class="head"&gt;Principals&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td rowspan="2"&gt;&lt;tt class="docutils literal"&gt;bucket:maps&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;write&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;fxa:&amp;lt;admin&lt;/span&gt; id&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;collection:create&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;Authenticated&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td rowspan="2"&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;collection:&amp;lt;map&lt;/span&gt; id&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;write&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;fxa:&amp;lt;map&lt;/span&gt; author id&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;read&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;Everyone&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;record:&amp;lt;record&lt;/span&gt; id&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;write&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;fxa:&amp;lt;maintainer&lt;/span&gt; id&amp;gt;&lt;/tt&gt;
(&lt;em&gt;ex. event staff member
maintaining venues&lt;/em&gt;)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Plateformes&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Bien sr, il y a plusieurs faons de modliser les cas d'utilisation typiques.
Par exemple, on peut imaginer une plateforme de wikis ( la wikia.com), o les
wikis sont privs par dfaut et certaines pages peuvent tre rendues publiques :&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="32%"&gt;&lt;/col&gt;
&lt;col width="30%"&gt;&lt;/col&gt;
&lt;col width="38%"&gt;&lt;/col&gt;
&lt;/colgroup&gt;
&lt;thead valign="bottom"&gt;
&lt;tr&gt;&lt;th class="head"&gt;Objet&lt;/th&gt;
&lt;th class="head"&gt;Permissions&lt;/th&gt;
&lt;th class="head"&gt;Principals&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td rowspan="3"&gt;&lt;tt class="docutils literal"&gt;bucket:freewiki&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;write&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;fxa:&amp;lt;administrator&lt;/span&gt; id&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;collection:create&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;Authenticated&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;group:create&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;Authenticated&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td rowspan="2"&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;collection:&amp;lt;wiki&lt;/span&gt; id&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;write&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;fxa:&amp;lt;wiki&lt;/span&gt; owner id&amp;gt;&lt;/tt&gt;,
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;group:&amp;lt;editors&lt;/span&gt; id&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;read&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;group:&amp;lt;readers&lt;/span&gt; id&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;record:&amp;lt;page&lt;/span&gt; id&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;read&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;Everyone&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="section" id="l-api-http"&gt;
&lt;h3&gt;L'API HTTP&lt;/h3&gt;
&lt;p&gt;Lors de la cration d'un objet, l'utilisateur se voit
attribu la permission &lt;tt class="docutils literal"&gt;write&lt;/tt&gt; sur l'objet :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nf"&gt;PUT&lt;/span&gt; &lt;span class="nn"&gt;/v1/buckets/servicedenuages_blog&lt;/span&gt; &lt;span class="kr"&gt;HTTP&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="m"&gt;1.1&lt;/span&gt;
&lt;span class="na"&gt;Authorization&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="l"&gt;Bearer 0b9c2625dc21ef05f6ad4ddf47c5f203837aa32ca42fced54c2625dc21efac32&lt;/span&gt;
&lt;span class="na"&gt;Accept&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="l"&gt;application/json&lt;/span&gt;

HTTP/1.1 201 Created
Content-Type: application/json; charset=utf-8

{
    "id": "servicedenuages_blog",
    "permissions": {
        "write": ["fxa:49d02d55ad10973b7b9d0dc9eba7fdf0"]
    }
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Il est possible d'ajouter des permissions  l'aide de &lt;tt class="docutils literal"&gt;PATCH&lt;/tt&gt; :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nf"&gt;PATCH&lt;/span&gt; &lt;span class="nn"&gt;/v1/buckets/servicedenuages_blog/collections/articles&lt;/span&gt; &lt;span class="kr"&gt;HTTP&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="m"&gt;1.1&lt;/span&gt;
&lt;span class="na"&gt;Authorization&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="l"&gt;Bearer 0b9c2625dc21ef05f6ad4ddf47c5f203837aa32ca42fced54c2625dc21efac32&lt;/span&gt;
&lt;span class="na"&gt;Accept&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="l"&gt;application/json&lt;/span&gt;

{
    "permissions": {
        "read": ["+system.Everyone"]
    }
}

HTTP/1.1 201 Created
Content-Type: application/json; charset=utf-8

{
    "id": "servicedenuages_blog",
    "permissions": {
        "write": ["fxa:49d02d55ad10973b7b9d0dc9eba7fdf0"],
        "read": ["system.Everyone"]
    }
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Pour le &lt;tt class="docutils literal"&gt;PATCH&lt;/tt&gt; nous utilisons la syntaxe prfixe par un &lt;tt class="docutils literal"&gt;+&lt;/tt&gt; ou
par un &lt;tt class="docutils literal"&gt;-&lt;/tt&gt; pour ajouter ou enlever des &lt;em&gt;principals&lt;/em&gt; sur un ACL.&lt;/p&gt;
&lt;p&gt;Il est galement possible de faire un &lt;tt class="docutils literal"&gt;PUT&lt;/tt&gt; pour rinitialiser les ACLs,
sachant que le &lt;tt class="docutils literal"&gt;PUT&lt;/tt&gt; va ajouter l'utilisateur courant  la
liste automatiquement mais qu'il pourra se retirer avec un &lt;tt class="docutils literal"&gt;PATCH&lt;/tt&gt;.
Ajouter l'utilisateur courant permet d'viter les situations o plus
personne n'a accs aux donnes.&lt;/p&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;La permission &lt;tt class="docutils literal"&gt;create&lt;/tt&gt; est valable pour &lt;tt class="docutils literal"&gt;POST&lt;/tt&gt; mais aussi pour &lt;tt class="docutils literal"&gt;PUT&lt;/tt&gt;
lorsque l'enregistrement n'existe pas.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="le-cas-specifique-des-donnees-utilisateurs"&gt;
&lt;h3&gt;Le cas spcifique des donnes utilisateurs&lt;/h3&gt;
&lt;p&gt;Une des fonctionnalits actuelles de &lt;em&gt;Kinto&lt;/em&gt; est de pouvoir grer des
collections d'enregistrements par utilisateur.&lt;/p&gt;
&lt;p&gt;Sous &lt;em&gt;*nix&lt;/em&gt; il est possible, pour une
application, de sauvegarder la configuration de l'utilisateur courant
dans son dossier personnel sans se soucier de l'emplacement sur
le disque en utilisant &lt;tt class="docutils literal"&gt;~/&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;Dans notre cas si une application souhaite sauvegarder les contacts d'un
utilisateur, elle peut utiliser le raccourci &lt;tt class="docutils literal"&gt;~&lt;/tt&gt; pour faire rfrence au
&lt;em&gt;bucket&lt;/em&gt; &lt;strong&gt;personnel&lt;/strong&gt; de l'utilisateur : &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;/buckets/~/collections/contacts&lt;/span&gt;&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;Cette URL retournera le code &lt;tt class="docutils literal"&gt;HTTP 307&lt;/tt&gt; vers le &lt;em&gt;bucket&lt;/em&gt; de l'utilisateur courant :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nf"&gt;POST&lt;/span&gt; &lt;span class="nn"&gt;/v1/buckets/~/collections/contacts/records&lt;/span&gt; &lt;span class="kr"&gt;HTTP&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="m"&gt;1.1&lt;/span&gt;

{
   "name": "Rmy",
   "emails": ["remy@example.com"],
   "phones": ["+330820800800"]
}

HTTP/1.1 307 Temporary Redirect
Location: /v1/buckets/fxa:49d02d55ad10973b7b9d0dc9eba7fdf0/collections/contacts/records
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ainsi il est tout  fait possible  Alice de partager ses contacts
avec Bob. Il lui suffit pour cela de donner la permission &lt;tt class="docutils literal"&gt;read&lt;/tt&gt; 
Bob sur sa collection et de donner l'URL complte
&lt;tt class="docutils literal"&gt;/v1/buckets/fxa:49d02d55ad10973b7b9d0dc9eba7fdf0/collections/contacts/records&lt;/tt&gt;
 Bob.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="la-delegation-des-permissions"&gt;
&lt;h3&gt;La dlgation des permissions&lt;/h3&gt;
&lt;p&gt;Dans le cas de &lt;em&gt;Kinto&lt;/em&gt;, nous avons dfini un format pour restreindre les
permissions via les scopes OAuth2:
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;storage:&amp;lt;bucket_id&amp;gt;:&amp;lt;collection_id&amp;gt;:&amp;lt;permissions_list&amp;gt;&lt;/span&gt;&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;Ainsi, si on reprend l'exemple prcdent de la liste de tches, il est possible pour
Bob de crer un token OAuth spcifique avec les &lt;em&gt;scopes&lt;/em&gt; suivants :
&lt;tt class="docutils literal"&gt;profile storage:todolist:tasks:write &lt;span class="pre"&gt;storage:~:contacts:read+records:create&lt;/span&gt;&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;Donc, bien que Bob a la permission &lt;tt class="docutils literal"&gt;write&lt;/tt&gt; sur ses contacts,
l'application utilisant ce token pourra uniquement lire les contacts
existants et en ajouter de nouveaux.&lt;/p&gt;
&lt;p&gt;Une partie de la complexit est donc de russir  prsenter ces &lt;em&gt;scopes&lt;/em&gt; de
manire lisible  l'utilisateur, afin qu'il choisisse quelles permissions
donner aux applications qui agissent en son nom.&lt;/p&gt;
&lt;p&gt;Voil o nous en sommes de notre rflexion !&lt;/p&gt;
&lt;p&gt;Si vous avez des choses  ajouter, des points de dsaccord ou autres
rflexions, n'hsitez pas  nous interrompre pendant qu'il est encore temps !&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</summary></entry><entry><title>Ecosystem &amp; generic storage</title><link href="http://www.servicedenuages.fr/en/generic-storage-ecosystem" rel="alternate"></link><updated>2015-04-30T00:00:00+02:00</updated><author><name>Service de Nuages</name></author><id>tag:www.servicedenuages.fr,2015-04-30:en/generic-storage-ecosystem</id><summary type="html">&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;This article was translated from French by Julien/Sphinx. We thank him a lot
for this effort! Note, that at the beginning of this year,
&lt;a class="reference external" href="https://medium.com/@Sphinx/mdn-pr%C3%A9sentation-de-la-documentation-javascript-70541cecae54"&gt;he also translated MDN to French&lt;/a&gt;!
&lt;strong&gt;Big up !&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;tl;dr We have to build a service to track payments, and we're hesitant
to go on with our own solution for storage and synchronization.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;As we wrote in &lt;a class="reference external" href="http://www.servicedenuages.fr/en/../service-de-nuages"&gt;the previous article (FR)&lt;/a&gt;,
we want to build a solution for generic data storage. We reboot &lt;a class="reference external" href="http://daybed.readthedocs.org"&gt;Daybed&lt;/a&gt;
at Mozilla !&lt;/p&gt;
&lt;p&gt;Our goal is simple: allow developers, whether they are from Mozilla or from the whole world,
to easily synchronize and save data associated to a user.&lt;/p&gt;
&lt;p id="storage-specs"&gt;Here are the aspects of the architecture that seem essential to us:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;The solution must rely on a protocol, not on a particular implementation;&lt;/li&gt;
&lt;li&gt;Self-hosting of the whole solution must be dead simple;&lt;/li&gt;
&lt;li&gt;Authentication must be pluggable or decentralized (OAuth2, FxA, Persona);&lt;/li&gt;
&lt;li&gt;The server should be able to validate records;&lt;/li&gt;
&lt;li&gt;An authorization/permissions system must allow collection protection or
fine-grained records sharing;&lt;/li&gt;
&lt;li&gt;Conflicts resolution could happen server-side;&lt;/li&gt;
&lt;li&gt;Clients should be &lt;em&gt;offline-first&lt;/em&gt;;&lt;/li&gt;
&lt;li&gt;Clients should be able to easily merge/reconciliate data;&lt;/li&gt;
&lt;li&gt;Clients should be usable in the browser &lt;em&gt;and&lt;/em&gt; server-side;&lt;/li&gt;
&lt;li&gt;Every component should be simple and easily substituable.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The first question we were asked was: &lt;em&gt;Why don't you rather use PouchDB or Remote Storage?&lt;/em&gt;&lt;/p&gt;
&lt;div class="section" id="remote-storage"&gt;
&lt;h2&gt;Remote Storage&lt;/h2&gt;
&lt;p&gt;Remote Storage is an open standard for user storage. &lt;a class="reference external" href="http://tools.ietf.org/html/draft-dejong-remotestorage-04"&gt;The specification&lt;/a&gt;
is based on existing and proven standards: Webfinger, OAuth2, CORS and REST.&lt;/p&gt;
&lt;p&gt;The API is pretty simple and &lt;a class="reference external" href="http://blog.cozycloud.cc/news/2014/08/12/when-unhosted-meets-cozy-cloud/"&gt;prestigious projects are using it&lt;/a&gt;.
There exist several &lt;a class="reference external" href="https://github.com/jcoglan/restore"&gt;server implementations&lt;/a&gt;
and there is even a &lt;a class="reference external" href="https://www.npmjs.com/package/remotestorage-server"&gt;Node squeleton&lt;/a&gt;
to build a custom server.&lt;/p&gt;
&lt;img alt="Remote Storage widget" class="align-left" src="http://www.servicedenuages.fr/en/../images/remotestorage-widget.png" style="width: 243px; height: auto; max-width: 100%;"/&gt;
&lt;p&gt;The &lt;a class="reference external" href="https://github.com/remotestorage/remotestorage.js/"&gt;remoteStorage.js client&lt;/a&gt;
makes possible the integration of this solution in Web apps. This client is in charge of the local store,
caching, syncing and gives users a widget so that they can choose the server
which will receive the data (using Webfinger).&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://github.com/michielbdejong/ludbud"&gt;ludbud&lt;/a&gt;, a refined version of
&lt;em&gt;remoteStorage.js&lt;/em&gt; limits itself to the abstraction of the remote data storage.
At the end, it would be possible to have a single library and to store data
in either a &lt;em&gt;Remote Storage&lt;/em&gt; server, an &lt;em&gt;ownCloud&lt;/em&gt; server, or even on the bad guys'
like &lt;em&gt;Google Drive&lt;/em&gt; or &lt;em&gt;Dropbox&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;At first sight, the specification seemed to fit with what we want to do:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;The philosophy of the protocol is sound;&lt;/li&gt;
&lt;li&gt;The ecosystem is well-thought;&lt;/li&gt;
&lt;li&gt;The political vision fits: give back the control of the data to the users
(see &lt;a class="reference external" href="http://unhosted.org/"&gt;unhosted&lt;/a&gt;);&lt;/li&gt;
&lt;li&gt;Technical choices are compatible with what we've already started (CORS, REST, OAuth2);&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;However, regarding data manipulation, there are several differences with what we want to do:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;The API seems files oriented (folders and documents) and not data (collections and records);&lt;/li&gt;
&lt;li&gt;There is no record validation following some schema (though &lt;a class="reference external" href="https://remotestorage.io/doc/code/files/baseclient/types-js.html"&gt;some implementations&lt;/a&gt; of the protocol are actually doing this);&lt;/li&gt;
&lt;li&gt;There is no option to sort/filter records with regards to their attributes;&lt;/li&gt;
&lt;li&gt;The permission system &lt;a class="reference external" href="https://groups.google.com/forum/#!topic/unhosted/5_NOGq8BPTo"&gt;is limited to private/public&lt;/a&gt; (and
&lt;a class="reference external" href="https://github.com/remotestorage/spec/issues/58#issue-27249452"&gt;the author is going for a git-like model&lt;/a&gt;) &lt;a class="footnote-reference" href="#id3" id="id1"&gt;[1]&lt;/a&gt;;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To summarize, it would seem that what we want to achieve with the storage of
records is complementary to &lt;em&gt;Remote Storage&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;If there are some needs about file oriented persistence, it would be dull to
reinvent this solution. So there is a great chance that we will integrate
&lt;em&gt;Remote Storage&lt;/em&gt; some day and that it will become a facet of our solution.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="pouchdb"&gt;
&lt;h2&gt;PouchDB&lt;/h2&gt;
&lt;p&gt;&lt;a class="reference external" href="http://pouchdb.com/"&gt;PouchDB&lt;/a&gt; is a Javascript library allowing to manipulate
records locally and synchronize them to a distant database.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;db&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nx"&gt;PouchDB&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'dbname'&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="nx"&gt;db&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;put&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;
 &lt;span class="nx"&gt;_id&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'dave@gmail.com'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
 &lt;span class="nx"&gt;name&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'David'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
 &lt;span class="nx"&gt;age&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;68&lt;/span&gt;
&lt;span class="p"&gt;});&lt;/span&gt;

&lt;span class="nx"&gt;db&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;replicate&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;to&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'http://example.com/mydb'&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The project sees some traction and benefits from a lot of contributors. The
ecosystem is rich and adoption by projects &lt;a class="reference external" href="https://github.com/hoodiehq/wip-hoodie-store-on-pouchdb"&gt;such as Hoodie&lt;/a&gt; confirms the tool
pertinence for frontend developers.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;PouchDB&lt;/em&gt; handles a local  store  which persistence is abstract and
&lt;a class="reference external" href="http://pouchdb.com/2014/07/25/pouchdb-levels-up.html"&gt;is built on top&lt;/a&gt;
of the &lt;a class="reference external" href="https://github.com/level/levelup#relationship-to-leveldown"&gt;LevelDown API&lt;/a&gt;
to persist data in &lt;a class="reference external" href="https://github.com/Level/levelup/wiki/Modules#storage-back-ends"&gt;any backend&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Even if &lt;em&gt;PouchDB&lt;/em&gt; is mainly done for &lt;em&gt;offline-first&lt;/em&gt; applications, it
can be used inside browsers and on the server side, via Node.&lt;/p&gt;
&lt;div class="section" id="synchronization"&gt;
&lt;h3&gt;Synchronization&lt;/h3&gt;
&lt;p&gt;Local data synchronization (or replication) is done on a remote
&lt;a class="reference external" href="http://couchdb.apache.org/"&gt;CouchDB&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The &lt;a class="reference external" href="https://github.com/pouchdb/pouchdb-server"&gt;PouchDB Server&lt;/a&gt; project
implements the CouchDB API in NodeJS. Because &lt;em&gt;PouchDB&lt;/em&gt; itself is used, we
obtain a service which is behaving like a &lt;em&gt;CouchDB&lt;/em&gt;, but stores data
anywhere (in a &lt;em&gt;Redis&lt;/em&gt; or a &lt;em&gt;PostgreSQL&lt;/em&gt; database for instance).&lt;/p&gt;
&lt;p&gt;The synchronisation is complete. In other words, all records that are on
the server will end up being synchronised with the client. It is possible to filter
synchronized collections but &lt;a class="reference external" href="http://pouchdb.com/2015/04/05/filtered-replication.html"&gt;its purpose is not to secure data access&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In order to do so, it is recommanded to create &lt;a class="reference external" href="https://github.com/nolanlawson/pouchdb-authentication#some-people-can-read-some-docs-some-people-can-write-those-same-docs"&gt;a database per user&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This isn't necessarily a problem since CouchDB &lt;a class="reference external" href="https://mail-archives.apache.org/mod_mbox/couchdb-user/201401.mbox/%3C52CEB873.7080404@ironicdesign.com%3E"&gt;can handle hundreds of thousands
of databases without any problem&lt;/a&gt;.
However, depending on use cases, clustering and isolation (by role, application,
collection, ...) might not be dealt with easily.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="the-payments-use-case"&gt;
&lt;h2&gt;The  Payments  use case&lt;/h2&gt;
&lt;img alt="Put Payments Here  -- Before the Internet - CC-NC-SA Katy Silberger https://www.flickr.com/photos/katysilbs/11163812186" src="http://www.servicedenuages.fr/en/../images/put-payments.jpg" style="width: 640px; height: auto; max-width: 100%;"/&gt;
&lt;p&gt;During the next weeks, we will have to setup a prototype that keeps an history
of a user's payments and subscriptions.&lt;/p&gt;
&lt;p&gt;The requirements are simple:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;The  Payment  application tracks payments and subscriptions of a user
for a given application;&lt;/li&gt;
&lt;li&gt;The  Data  application requests the service to check if a user paid or
has suscribed;&lt;/li&gt;
&lt;li&gt;The user requests the service to get a list of all payments/subscriptions
reltated to her.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The  Payment  application only should have the right to create/modify/delete
records. The two others can only have read-only access to these records.&lt;/p&gt;
&lt;p&gt;A given application cannot access to some other application payments and a given user cannot access to some other user's payments.&lt;/p&gt;
&lt;div class="section" id="with-remotestorage"&gt;
&lt;h3&gt;With RemoteStorage&lt;/h3&gt;
&lt;img alt="Remote Love - CC-BY-NC Julie https://www.flickr.com/photos/mamajulie2008/2609549461" class="align-center" src="http://www.servicedenuages.fr/en/../images/remote-love.jpg" style="width: 640px; height: auto; max-width: 100%;"/&gt;
&lt;p&gt;The idea of &lt;em&gt;Remote Storage&lt;/em&gt; is to separate the application from the data that
the user created with the application.&lt;/p&gt;
&lt;p&gt;In our use case, the  Payment  app is dealing with the data concerning a user.
However, this data does not directly belong to the user. A user should be able
to delete some records but he/she cannot create or edit some existing payments!&lt;/p&gt;
&lt;p&gt;The concept of permissions, limited to private/public is not suitable here.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="with-pouchdb"&gt;
&lt;h3&gt;With PouchDB&lt;/h3&gt;
&lt;p&gt;It will be necessary to create a &lt;em&gt;database&lt;/em&gt; per user in order to separate the
records in a secure way. Only the  Payment  app will be granted full rights
on the different databases.&lt;/p&gt;
&lt;p&gt;But this won't be enough.&lt;/p&gt;
&lt;p&gt;An app must not see payments from another application so it would also be
necessary to create a database per application.&lt;/p&gt;
&lt;p&gt;When a user will need to access payments, it will be mandatory to join every
&lt;em&gt;database&lt;/em&gt; of every application for this current user. When the marketing
department will want to build stats for all apps, one will have to join hundreds
of thousands of databases.&lt;/p&gt;
&lt;p&gt;This doesn't seem appropriate: most of the time, there are only few
payments/subscriptions for a given user. Should we have hundreds of thousands of
databases, each of which will have less than 5 records?&lt;/p&gt;
&lt;p&gt;Moreover, the server side of  Payment  is implemented with Python, using a
JavaScript wrapper (as &lt;a class="reference external" href="https://pythonhosted.org/Python-PouchDB/"&gt;python-pouchdb&lt;/a&gt;) is not something we thrive for.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="a-new-ecosystem"&gt;
&lt;h2&gt;A new ecosystem?&lt;/h2&gt;
&lt;img alt="Wagon wheel - CC-BY-NC-SA arbyreed https://www.flickr.com/photos/19779889@N00/16161808220" src="http://www.servicedenuages.fr/en/../images/wagon-wheel.jpg" style="width: 640px; height: auto; max-width: 100%;"/&gt;
&lt;p&gt;It is obvious that &lt;em&gt;PouchDB&lt;/em&gt; and &lt;em&gt;Remote Storage&lt;/em&gt; are rich projects with dynamic communities. Therefore, it's reasonable to wonder if one should develop another solution.&lt;/p&gt;
&lt;p&gt;When we created the &lt;em&gt;Reading List&lt;/em&gt; server, we built it with
&lt;a class="reference external" href="http://cliquet.readthedocs.org/"&gt;Cliquet&lt;/a&gt;. We had a chance to setup &lt;a class="reference external" href="http://cliquet.readthedocs.org/en/latest/api/"&gt;a very simple protocol&lt;/a&gt;, strongly inspired by
&lt;a class="reference external" href="http://en.wikipedia.org/wiki/Firefox_Sync"&gt;Firefox Sync&lt;/a&gt;, to sync records.&lt;/p&gt;
&lt;p&gt;The reason clients for &lt;em&gt;Reading List&lt;/em&gt; were implemented in few weeks, whether in
JavaScript, Java (Android) or ASM (Firefox addon), is that the &lt;em&gt;offline first&lt;/em&gt;
principle of the service is trivial.&lt;/p&gt;
&lt;div class="section" id="tradeoffs"&gt;
&lt;h3&gt;Tradeoffs&lt;/h3&gt;
&lt;p&gt;Of course, we don't intend to compete with &lt;em&gt;CouchDB&lt;/em&gt; and are making some
concessions:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Per default, records collections are isolated by user;&lt;/li&gt;
&lt;li&gt;There is no history of revisions;&lt;/li&gt;
&lt;li&gt;There is no diff between each revision;&lt;/li&gt;
&lt;li&gt;Per default, there is no automatic conflict resolution;&lt;/li&gt;
&lt;li&gt;There is no stream synchronization.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If we are not mistaken, these tradeoffs exclude the possibility of
implementing &lt;a class="reference external" href="https://github.com/pouchdb/pouchdb/blob/master/lib/adapters/http/http.js#L721-L946"&gt;a PouchDB adapter&lt;/a&gt; for the HTTP-based synchronisation protocol of &lt;em&gt;Cliquet&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Too bad since it would have been a great opportunity to capitalize on the user
experience of &lt;em&gt;PouchDB&lt;/em&gt; regarding the synchronisation client.&lt;/p&gt;
&lt;p&gt;However, we have some interesting features:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;No map-reduce;&lt;/li&gt;
&lt;li&gt;Partial and/or ordered and/or paginated synchronisation;&lt;/li&gt;
&lt;li&gt;The client can choose, with headers, to delete the data or to accept the
server version;&lt;/li&gt;
&lt;li&gt;A single server is deployed for N apps;&lt;/li&gt;
&lt;li&gt;Self hosting is dead simple;&lt;/li&gt;
&lt;li&gt;The client can choose not to use local storage at all;&lt;/li&gt;
&lt;li&gt;The JavaScript client will have its local store management delegated (we're
thinking about &lt;a class="reference external" href="https://github.com/mozilla/localForage"&gt;LocalForage&lt;/a&gt; or
&lt;a class="reference external" href="https://github.com/dfahlander/Dexie.js"&gt;Dexie.js&lt;/a&gt;);&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;And we are complying with &lt;a class="reference external" href="#storage-specs"&gt;the specs we drew at the beginning of the article&lt;/a&gt;!&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="philosophical-arguments"&gt;
&lt;h3&gt;Philosophical arguments&lt;/h3&gt;
&lt;p&gt;It's &lt;a class="reference external" href="http://en.wikipedia.org/wiki/Law_of_the_instrument"&gt;illusionary to think that we can achieve everything with a single tool&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;We have other use cases that seem to fit with &lt;em&gt;PouchDB&lt;/em&gt; (&lt;em&gt;no concept of
permission or sharing, JavaScript environment, ...&lt;/em&gt;). We'll take advantage of it
when relevant!&lt;/p&gt;
&lt;p&gt;The ecosystem we want to build should address the use cases that are badly
handled by &lt;em&gt;PouchDB&lt;/em&gt;. It should be:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Based on our very simple protocol;&lt;/li&gt;
&lt;li&gt;Minimalist and with multiple purposes (&lt;em&gt;like our very French 2CV&lt;/em&gt;);&lt;/li&gt;
&lt;li&gt;Naive (&lt;em&gt;no rocket-science&lt;/em&gt;);&lt;/li&gt;
&lt;li&gt;Without magic (&lt;em&gt;explicit and easy to reimplement from scratch&lt;/em&gt;);&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a class="reference external" href="http://cliquet.readthedocs.org/en/latest/rationale.html"&gt;The philosophy and the features of our Python toolkit, Cliquet&lt;/a&gt;, will of course be honoured :)&lt;/p&gt;
&lt;p&gt;As for &lt;em&gt;Remote Storage&lt;/em&gt;, whenever we face the need, we will proud to join
this initiative. However, as for now, it seems risky to start by bending the
solution to our own needs.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="practical-arguments"&gt;
&lt;h3&gt;Practical arguments&lt;/h3&gt;
&lt;p&gt;Before being willingly to deploy a &lt;em&gt;CouchDB&lt;/em&gt; solution, Mozilla &lt;em&gt;ops&lt;/em&gt; will ask us
to precisely prove that it's not currently doable with experienced stacks (e.g.
MySQL, Redis, PostgreSQL).&lt;/p&gt;
&lt;p&gt;We will also have to guarantee a minimum 5 years lifetime regarding the data. With
&lt;em&gt;Cliquet&lt;/em&gt;, using the PostgreSQL backend, our data is persisted in &lt;a class="reference external" href="https://github.com/mozilla-services/cliquet/blob/40aa33/cliquet/storage/postgresql/schema.sql#L14-L28"&gt;a flat PostgreSQL schema&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This wouldn't be the case with a LevelDown adapter that handles revisions split
in a key-value scheme.&lt;/p&gt;
&lt;p&gt;If we based our service on Cliquet, like we did with &lt;a class="reference external" href="http://kinto.readthedocs.org"&gt;Kinto&lt;/a&gt;, all the automation work of deploying
(&lt;em&gt;monitoring, RPM builds, Puppet...&lt;/em&gt;) that was done for &lt;em&gt;Reading List&lt;/em&gt; will be
completely reusable.&lt;/p&gt;
&lt;p&gt;As said before, if we go with another totally new stack, we will have to start
again from scratch, including lapping, profiling, optimizing, all of which has
already been done during the first quarter of this year for Reading List.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="next-steps"&gt;
&lt;h2&gt;Next steps&lt;/h2&gt;
&lt;p&gt;It's still time to change our strategy :) And we welcome any feedback!
It's always a difficult decision to make... &lt;tt class="docutils literal"&gt;&amp;lt;/troll call&amp;gt;&lt;/tt&gt;&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Twist an existing ecosystem vs build a new custom one;&lt;/li&gt;
&lt;li&gt;Master the whole system or to integrate our solution;&lt;/li&gt;
&lt;li&gt;Contribute vs redo;&lt;/li&gt;
&lt;li&gt;Guide vs follow.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We really seek to join the &lt;a class="reference external" href="https://nobackend.org/"&gt;no-backend&lt;/a&gt; initiative.
This first step might lead us to converge in the end! Maybe our service will end
up being compatible with Remote Storage, maybe PouchDB will become more agnostic
regarding the synchronisation protocol...&lt;/p&gt;
&lt;img alt="XKCD  Standards https://xkcd.com/927/" src="http://www.servicedenuages.fr/en/../images/standards.png" style="width: 500px; height: auto; max-width: 100%;"/&gt;
&lt;p&gt;Using this new ecosystem for the  Payments  project will allow us to setup a
suitable permission system (&lt;em&gt;probably built on OAuth scopes&lt;/em&gt;). We are also
looking forward to &lt;a class="reference external" href="http://blog.daybed.io/daybed-revival.html"&gt;capitalizing on our Daybed experience for this project&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;We'll also extract some parts of the clients source code that were implemented
for &lt;em&gt;Reading List&lt;/em&gt; in order to provide a minimalist JavaScript client.&lt;/p&gt;
&lt;p&gt;By going this way, we are taking several risks:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;reinventing a wheel we don't know;&lt;/li&gt;
&lt;li&gt;failing to make the &lt;em&gt;Cliquet&lt;/em&gt; ecosystem a community project;&lt;/li&gt;
&lt;li&gt;failing to place &lt;em&gt;Cliquet&lt;/em&gt; in the niche for the use cases that are not
covered with &lt;em&gt;PouchDB&lt;/em&gt; :)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;As &lt;a class="reference external" href="http://pouchdb.com/2015/04/05/filtered-replication.html"&gt;Giovanni Ornaghi said&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
Rolling out your set of webservices, push notifications, or background services
might give you more control, but at the same time it will force you to engineer,
write, test, and maintain a whole new ecosystem.&lt;/blockquote&gt;
&lt;p&gt;And this ecosystem is precisely the one that &lt;em&gt;Mozilla Cloud Services&lt;/em&gt; team
is in charge of!&lt;/p&gt;
&lt;table class="docutils footnote" frame="void" id="id3" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label"&gt;&lt;/col&gt;&lt;col&gt;&lt;/col&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id1"&gt;[1]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;The &lt;a class="reference external" href="https://sharesome.5apps.com/"&gt;Sharesome project&lt;/a&gt; allows for some
public sharing of one's resources from one's &lt;em&gt;Remote Storage&lt;/em&gt;.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
</summary></entry><entry><title>Eco-systme et stockage gnrique</title><link href="http://www.servicedenuages.fr/en/../stockage-generique-ecosysteme" rel="alternate"></link><updated>2015-04-30T00:00:00+02:00</updated><author><name>Service de Nuages</name></author><id>tag:www.servicedenuages.fr,2015-04-30:en/../stockage-generique-ecosysteme</id><summary type="html">&lt;p&gt;&lt;strong&gt;tl;dr Nous devons construire un service de suivi de paiements, et nous
hsitons  continuer  nous entter avec notre propre solution de
stockage/synchronisation.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Comme nous l'crivions &lt;a class="reference external" href="http://www.servicedenuages.fr/en/../service-de-nuages"&gt;dans l'article prcdent&lt;/a&gt;, nous souhaitons construire une
solution de stockage gnrique. On refait &lt;a class="reference external" href="http://daybed.readthedocs.org"&gt;Daybed&lt;/a&gt;
chez Mozilla !&lt;/p&gt;
&lt;p&gt;Notre objectif est simple: permettre aux dveloppeurs d'application, internes
 Mozilla ou du monde entier, de faire persister et synchroniser facilement des
donnes associes  un utilisateur.&lt;/p&gt;
&lt;p id="storage-specs"&gt;Les aspects de l'architecture qui nous semblent incontournables:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;La solution doit reposer sur un protocole, et non sur une implmentation ;&lt;/li&gt;
&lt;li&gt;L'auto-hbergement de l'ensemble doit tre simplissime ;&lt;/li&gt;
&lt;li&gt;L'authentification doit tre &lt;em&gt;pluggable&lt;/em&gt;, voire dcentralise (OAuth2, FxA,
Persona) ;&lt;/li&gt;
&lt;li&gt;Les enregistrements doivent pouvoir tre valids par le serveur ;&lt;/li&gt;
&lt;li&gt;Les donnes doivent pouvoir tre stockes dans n'importe quel backend ;&lt;/li&gt;
&lt;li&gt;Un systme de permissions doit permettre de protger des collections, ou de
partager des enregistrements de manire fine ;&lt;/li&gt;
&lt;li&gt;La rsolution de conflits doit pouvoir avoir lieu sur le serveur ;&lt;/li&gt;
&lt;li&gt;Le client doit tre pens &lt;em&gt;offline-first&lt;/em&gt; ;&lt;/li&gt;
&lt;li&gt;Le client doit pouvoir rconcilier les donnes simplement ;&lt;/li&gt;
&lt;li&gt;Le client doit pouvoir tre utilis aussi bien dans le navigateur que ct
serveur ;&lt;/li&gt;
&lt;li&gt;Tous les composants se doivent dtre simples et substituables facilement.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;La premire question qui nous a t pose ft &lt;em&gt;Pourquoi vous n'utilisez pas
PouchDB ou Remote Storage ?&lt;/em&gt;&lt;/p&gt;
&lt;div class="section" id="remote-storage"&gt;
&lt;h2&gt;Remote Storage&lt;/h2&gt;
&lt;p&gt;Remote Storage est un standard ouvert pour du stockage par utilisateur.  &lt;a class="reference external" href="http://tools.ietf.org/html/draft-dejong-remotestorage-04"&gt;La
specification&lt;/a&gt; se
base sur des standards dj existants et prouvs:  Webfinger, OAuth 2, CORS et
REST.&lt;/p&gt;
&lt;p&gt;L'API est simple, des &lt;a class="reference external" href="http://blog.cozycloud.cc/news/2014/08/12/when-unhosted-meets-cozy-cloud/"&gt;projets prestigieux l'utilisent&lt;/a&gt;.
Il y a plusieurs &lt;a class="reference external" href="https://github.com/jcoglan/restore"&gt;implmentations&lt;/a&gt; du
serveur, et il existe &lt;a class="reference external" href="https://www.npmjs.com/package/remotestorage-server"&gt;un squelette Node&lt;/a&gt; pour construire un
serveur sur mesure.&lt;/p&gt;
&lt;img alt="Remote Storage widget" class="align-left" src="http://www.servicedenuages.fr/en/../images/remotestorage-widget.png" style="width: 243px; height: auto; max-width: 100%;"/&gt;
&lt;p&gt;Le client &lt;a class="reference external" href="https://github.com/remotestorage/remotestorage.js/"&gt;remoteStorage.js&lt;/a&gt; permet d'intgrer la
solution dans les applications Web.  Il se charge du store local, du cache,
de la synchronization, et fournit un widget qui permet aux utilisateurs des
applications de choisir le serveur qui recevra les donnes (via Webfinger).&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://github.com/michielbdejong/ludbud"&gt;ludbud&lt;/a&gt;, la version pure de
&lt;em&gt;remoteStorage.js&lt;/em&gt;, se limite  l'abstraction du stockage distant.  Cela
permettrait  terme, d'avoir une seule bibliothque pour stocker dans un
serveur &lt;em&gt;remoteStorage&lt;/em&gt;, &lt;em&gt;ownCloud&lt;/em&gt; ou chez les mchants comme &lt;em&gt;Google Drive&lt;/em&gt;
ou &lt;em&gt;Dropbox&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Au premier abord, la spcification correspond  ce que nous voulons accomplir:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;La philosophie du protocole est saine;&lt;/li&gt;
&lt;li&gt;L'co-systme est bien fichu;&lt;/li&gt;
&lt;li&gt;La vision politique colle: redonner le contrle des donnes aux utilisateurs
(voir &lt;a class="reference external" href="http://unhosted.org/"&gt;unhosted&lt;/a&gt;);&lt;/li&gt;
&lt;li&gt;Les choix techniques compatibles avec ce qu'on a commenc (CORS, REST, OAuth 2);&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;En revanche, vis  vis de la manipulation des donnes, il y a plusieurs
diffrences avec ce que nous souhaitons faire:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;L'API suit globalement une mtaphore fichiers (dossier/documents), plutt
que donnes (collection/enregistrements) ;&lt;/li&gt;
&lt;li&gt;Il n'y a pas de validation des enregistrements selon un schma (mme si
&lt;a class="reference external" href="https://remotestorage.io/doc/code/files/baseclient/types-js.html"&gt;certaines implmentations&lt;/a&gt; du
protocole le font) ;&lt;/li&gt;
&lt;li&gt;Il n'y a pas la possibilit de trier/filtrer les enregistrements selon des attributs ;&lt;/li&gt;
&lt;li&gt;Les permissions &lt;a class="reference external" href="https://groups.google.com/forum/#!topic/unhosted/5_NOGq8BPTo"&gt;se limitent  priv/public&lt;/a&gt; (et
&lt;a class="reference external" href="https://github.com/remotestorage/spec/issues/58#issue-27249452"&gt;l'auteur envisage plutt un modle  la Git&lt;/a&gt;) &lt;a class="footnote-reference" href="#id3" id="id1"&gt;[1]&lt;/a&gt; ;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;En rsum, il semblerait que ce que nous souhaitons faire avec le stockage
d'enregistrements valids est complmentaire avec &lt;em&gt;Remote Storage&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Si des besoins de persistence orients fichiers se prsentent, a priori nous aurions tort
de rinventer les solutions apportes par cette spcification. Il y a donc de grandes
chances que nous lintgrions  terme, et que &lt;em&gt;Remote Storage&lt;/em&gt; devienne une facette
de notre solution.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="pouchdb"&gt;
&lt;h2&gt;PouchDB&lt;/h2&gt;
&lt;p&gt;&lt;a class="reference external" href="http://pouchdb.com/"&gt;PouchDB&lt;/a&gt; est une bibliothque JavaScript qui permet
de manipuler des enregistrements en local et de les synchroniser vers une base distante.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;db&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nx"&gt;PouchDB&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'dbname'&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="nx"&gt;db&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;put&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;
 &lt;span class="nx"&gt;_id&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'dave@gmail.com'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
 &lt;span class="nx"&gt;name&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'David'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
 &lt;span class="nx"&gt;age&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;68&lt;/span&gt;
&lt;span class="p"&gt;});&lt;/span&gt;

&lt;span class="nx"&gt;db&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;replicate&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;to&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'http://example.com/mydb'&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Le projet a le vent en poupe, bnficie de nombreux contributeurs,
l'co-systme est trs riche et l'adoption par des projets &lt;a class="reference external" href="https://github.com/hoodiehq/wip-hoodie-store-on-pouchdb"&gt;comme Hoodie&lt;/a&gt; ne fait que
confirmer la pertinence de l'outil pour les dveloppeurs frontend.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;PouchDB&lt;/em&gt; gre un  store  local, dont la persistence est abstraite et &lt;a class="reference external" href="http://pouchdb.com/2014/07/25/pouchdb-levels-up.html"&gt;repose
sur&lt;/a&gt; l'API &lt;a class="reference external" href="https://github.com/level/levelup#relationship-to-leveldown"&gt;LevelDown&lt;/a&gt; pour persister
les donnes dans &lt;a class="reference external" href="https://github.com/Level/levelup/wiki/Modules#storage-back-ends"&gt;n'importe quel backend&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Mme si &lt;em&gt;PouchDB&lt;/em&gt; adresse principalement les besoins des applications
&lt;em&gt;offline-first&lt;/em&gt;, il peut tre utilis aussi bien dans le navigateur que ct
serveur, via Node.&lt;/p&gt;
&lt;div class="section" id="synchronisation"&gt;
&lt;h3&gt;Synchronisation&lt;/h3&gt;
&lt;p&gt;La synchronisation (ou rplication) des donnes locales s'effectue sur un
&lt;a class="reference external" href="http://couchdb.apache.org/"&gt;CouchDB&lt;/a&gt; distant.&lt;/p&gt;
&lt;p&gt;Le projet &lt;a class="reference external" href="https://github.com/pouchdb/pouchdb-server"&gt;PouchDB Server&lt;/a&gt;
implmente l'API de CouchDB en NodeJS. Comme &lt;em&gt;PouchDB&lt;/em&gt; est utilis, on obtient
un service qui se comporte comme un &lt;em&gt;CouchDB&lt;/em&gt; mais qui stocke ses donnes
n'importe o, dans un &lt;em&gt;Redis&lt;/em&gt; ou un &lt;em&gt;PostgreSQL&lt;/em&gt; par exemple.&lt;/p&gt;
&lt;p&gt;La synchronisation est complte. Autrement dit, tous les enregistrements qui
sont sur le serveur se retrouvent synchroniss dans le client. Il est possible
de filtrer les collections synchronises, mais cela &lt;a class="reference external" href="http://pouchdb.com/2015/04/05/filtered-replication.html"&gt;n'a pas pour objectif de
scuriser l'accs aux donnes&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;L'approche recommande pour cloisonner les donnes par utilisateur consiste
 crer &lt;a class="reference external" href="https://github.com/nolanlawson/pouchdb-authentication#some-people-can-read-some-docs-some-people-can-write-those-same-docs"&gt;une base de donnes par utilisateur&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Ce n'est pas forcment un problme, CouchDB &lt;a class="reference external" href="https://mail-archives.apache.org/mod_mbox/couchdb-user/201401.mbox/%3C52CEB873.7080404@ironicdesign.com%3E"&gt;supporte des centaines de milliers
de bases sans sourciller&lt;/a&gt;.
Mais selon les cas d'utilisation, le cloisement n'est pas toujours facile
 dterminer (par rle, par application, par collection, ...).&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="le-cas-d-utilisation-payments"&gt;
&lt;h2&gt;Le cas d'utilisation  Payments &lt;/h2&gt;
&lt;img alt="Put Payments Here  -- Before the Internet - CC-NC-SA Katy Silberger https://www.flickr.com/photos/katysilbs/11163812186" src="http://www.servicedenuages.fr/en/../images/put-payments.jpg" style="width: 640px; height: auto; max-width: 100%;"/&gt;
&lt;p&gt;Dans les prochaines semaines, nous devrons mettre sur pied un prototype pour
tracer l'historique des paiements et abonnements d'un utilisateur.&lt;/p&gt;
&lt;p&gt;Le besoin est simple:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;l'application  Payment  enregistre les paiements et abonnements d'un
utilisateur pour une application donne;&lt;/li&gt;
&lt;li&gt;l'application  Donne  interroge le service pour vrifier qu'un utilisateur
a pay ou est abonn;&lt;/li&gt;
&lt;li&gt;l'utilisateur interroge le service pour obtenir la liste de tous ses
abonnements.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Seule l'application  Payment  a le droit de crer/modifier/supprimer des
enregistrements, les deux autres ne peuvent que consulter en lecture seule.&lt;/p&gt;
&lt;p&gt;Une application donne ne peut pas accder aux paiements des autres
applications, et un utilisateur ne peut pas accder aux paiements des autres
utilisateurs.&lt;/p&gt;
&lt;div class="section" id="avec-remotestorage"&gt;
&lt;h3&gt;Avec RemoteStorage&lt;/h3&gt;
&lt;img alt="Remote Love - CC-BY-NC Julie https://www.flickr.com/photos/mamajulie2008/2609549461" class="align-center" src="http://www.servicedenuages.fr/en/../images/remote-love.jpg" style="width: 640px; height: auto; max-width: 100%;"/&gt;
&lt;p&gt;Clairement, l'ide de &lt;em&gt;RemoteStorage&lt;/em&gt; est de dissocier l'application execute,
et les donnes cres par l'utilisateur avec celle-ci.&lt;/p&gt;
&lt;p&gt;Dans notre cas, c'est l'application  Payment  qui manipule des donnes
concernant un utilisateur. Mais celles-ci ne lui appartiennent pas directement:
certes un utilisateur doit pouvoir les supprimer, surtout pas en crer ou les
modifier!&lt;/p&gt;
&lt;p&gt;La notion de permissions limite  priv/publique ne suffit pas dans ce cas
prcis.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="avec-pouchdb"&gt;
&lt;h3&gt;Avec PouchDB&lt;/h3&gt;
&lt;p&gt;Il va falloir crer une &lt;em&gt;base de donnes&lt;/em&gt; par utilisateur, afin d'isoler les
enregistrements de faon scurise.  Seule l'application  Payment  aura tous
les droits sur les databases.&lt;/p&gt;
&lt;p&gt;Mais cela ne suffit pas.&lt;/p&gt;
&lt;p&gt;Il ne faut pas qu'une application puisse voir les paiements des autres
applications, donc il va aussi falloir recloisonner, et crer une &lt;em&gt;base de
donnes&lt;/em&gt; par application.&lt;/p&gt;
&lt;p&gt;Quand un utilisateur voudra accder  l'ensemble de ses paiements, il faudra
agrger les &lt;em&gt;databases&lt;/em&gt; de toutes les applications. Quand l'quipe marketing
voudra faire des statistiques sur l'ensemble des applications, il faudra
agrgr des centaines de milliers de &lt;em&gt;databases&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Ce qui est fort dommage, puisqu'il est probable que les paiements ou
abonnements d'un utilisateur pour une application se comptent sur les doigts
d'une main. Des centaines de milliers de bases contenant moins de
5 enregistrements ?&lt;/p&gt;
&lt;p&gt;De plus, dans le cas de l'application  Payment , le serveur est implment en
Python. Utiliser un wrapper JavaScript comme le fait &lt;a class="reference external" href="https://pythonhosted.org/Python-PouchDB/"&gt;python-pouchdb&lt;/a&gt; cela ne nous fait pas trop rver.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="un-nouvel-eco-systeme"&gt;
&lt;h2&gt;Un nouvel co-systme ?&lt;/h2&gt;
&lt;img alt="Wagon wheel - CC-BY-NC-SA arbyreed https://www.flickr.com/photos/19779889@N00/16161808220" src="http://www.servicedenuages.fr/en/../images/wagon-wheel.jpg" style="width: 640px; height: auto; max-width: 100%;"/&gt;
&lt;p&gt;videmment, quand on voit la richesse des projets &lt;em&gt;PouchDB&lt;/em&gt; et &lt;em&gt;Remote Storage&lt;/em&gt;
et la dynamique de ces communauts, il est lgitime d'hsiter avant de
dvelopper une solution alternative.&lt;/p&gt;
&lt;p&gt;Quand nous avons cr le serveur &lt;em&gt;Reading List&lt;/em&gt;, nous l'avons construit avec
&lt;a class="reference external" href="http://cliquet.readthedocs.org/"&gt;Cliquet&lt;/a&gt;, ce ft l'occasion de mettre au
point &lt;a class="reference external" href="http://cliquet.readthedocs.org/en/latest/api/"&gt;un protocole trs simple&lt;/a&gt;, fortement inspir de
&lt;a class="reference external" href="http://en.wikipedia.org/wiki/Firefox_Sync"&gt;Firefox Sync&lt;/a&gt;, pour faire de la
synchronisation d'enregistrements.&lt;/p&gt;
&lt;p&gt;Et si les clients &lt;em&gt;Reading List&lt;/em&gt; ont pu tre implments en quelques semaines,
que ce soit en JavaScript, Java (Android) et ASM (Add-on Firefox), c'est que le
principe &lt;em&gt;offline first&lt;/em&gt; du service est trivial.&lt;/p&gt;
&lt;div class="section" id="les-compromis"&gt;
&lt;h3&gt;Les compromis&lt;/h3&gt;
&lt;p&gt;videmment, nous n'avons pas la prtention de concurrencer &lt;em&gt;CouchDB&lt;/em&gt;. Nous faisons plusieurs
concessions:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;De base, les collections d'enregistrements sont cloisonnes par utilisateur;&lt;/li&gt;
&lt;li&gt;Pas d'historique des rvisions;&lt;/li&gt;
&lt;li&gt;Pas de diff sur les enregistrements entre rvisions;&lt;/li&gt;
&lt;li&gt;De base, pas de rsolution de conflit automatique;&lt;/li&gt;
&lt;li&gt;Pas de synchronisation par flux (&lt;em&gt;streams&lt;/em&gt;);&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Jusqu' preuve du contraire, ces compromis excluent la possibilit
d'implmenter un &lt;a class="reference external" href="https://github.com/pouchdb/pouchdb/blob/master/lib/adapters/http/http.js#L721-L946"&gt;adapter PouchDB&lt;/a&gt;
pour la synchronisation avec le protocole HTTP de &lt;em&gt;Cliquet&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Dommage puisque capitaliser sur l'exprience client de &lt;em&gt;PouchDB&lt;/em&gt; au niveau
synchro client semble tre une trs bonne ide.&lt;/p&gt;
&lt;p&gt;En revanche, nous avons plusieurs fonctionnalits intressantes:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Pas de map-reduce;&lt;/li&gt;
&lt;li&gt;Synchronisation partielle et/ou ordonne et/ou pagine    ;&lt;/li&gt;
&lt;li&gt;Le client choisit, via des headers, d'craser la donne ou de respecter la version du serveur ;&lt;/li&gt;
&lt;li&gt;Un seul serveur  dployer pour N applications ;&lt;/li&gt;
&lt;li&gt;Auto-hbergement simplissime ;&lt;/li&gt;
&lt;li&gt;Le client peut choisir de ne pas utiliser de  store local  du tout ;&lt;/li&gt;
&lt;li&gt;Dans le client JS, la gestion du  store local  sera externalise (on pense
 &lt;a class="reference external" href="https://github.com/mozilla/localForage"&gt;LocalForage&lt;/a&gt; ou &lt;a class="reference external" href="https://github.com/dfahlander/Dexie.js"&gt;Dexie.js&lt;/a&gt;) ;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Et, on rpond au reste des &lt;a class="reference external" href="#storage-specs"&gt;specifications mentionnes au dbut de l'article&lt;/a&gt; !&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="les-arguments-philosophiques"&gt;
&lt;h3&gt;Les arguments philosophiques&lt;/h3&gt;
&lt;p&gt;Il est &lt;a class="reference external" href="http://en.wikipedia.org/wiki/Law_of_the_instrument"&gt;illusoire de penser qu'on peut tout faire avec un seul outil&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Nous avons d'autres cas d'utilisations dans les cartons qui semblent correspondre au scope de &lt;em&gt;PouchDB&lt;/em&gt;
(&lt;em&gt;pas de notion de permissions ou de partage, environnement JavaScript, ...&lt;/em&gt;). Nous saurons en tirer
profit quand cela s'avrera pertinent !&lt;/p&gt;
&lt;p&gt;L'co-systme que nous voulons construire tentera de couvrir les cas d'utilisation
qui sont mal adresss par &lt;em&gt;PouchDB&lt;/em&gt;. Il se voudra:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Bas sur notre protocole trs simple ;&lt;/li&gt;
&lt;li&gt;Minimaliste et multi-usages (&lt;em&gt;comme la fameuse 2CV&lt;/em&gt;) ;&lt;/li&gt;
&lt;li&gt;Naf (&lt;em&gt;pas de rocket science&lt;/em&gt;) ;&lt;/li&gt;
&lt;li&gt;Sans magie (&lt;em&gt;explicite et facile  rimplmenter from scratch&lt;/em&gt;) ;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a class="reference external" href="http://cliquet.readthedocs.org/en/latest/rationale.html"&gt;La philosophie et les fonctionnalits du toolkit python Cliquet&lt;/a&gt; seront bien entendu
 l'honneur :)&lt;/p&gt;
&lt;p&gt;Quant  &lt;em&gt;Remote Storage&lt;/em&gt;, ds que le besoin se prsentera, nous serons trs fier
de rejoindre l'initiative, mais pour l'instant cela nous parat risqu de dmarrer
en tordant la solution.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="les-arguments-pratiques"&gt;
&lt;h3&gt;Les arguments pratiques&lt;/h3&gt;
&lt;p&gt;Avant d'accepter de dployer une solution  base de &lt;em&gt;CouchDB&lt;/em&gt;, les &lt;em&gt;ops&lt;/em&gt; de Mozilla
vont nous demander de leur prouver par A+B que ce n'est pas faisable avec
les stacks qui sont dj rodes en interne (i.e. MySQL, Redis, PostgreSQL).&lt;/p&gt;
&lt;p&gt;De plus, on doit s'engager sur une prennit d'au moins 5 ans pour les donnes.
Avec &lt;em&gt;Cliquet&lt;/em&gt;, en utilisant le backend PostgreSQL, les donnes sont persistes
 plat dans un &lt;a class="reference external" href="https://github.com/mozilla-services/cliquet/blob/40aa33/cliquet/storage/postgresql/schema.sql#L14-L28"&gt;schma PostgreSQL tout bte&lt;/a&gt;.
Ce qui ne sera pas le cas d'un adapteur LevelDown qui va manipuler des notions
de rvisions clates dans un schma cl-valeur.&lt;/p&gt;
&lt;p&gt;Si nous basons le service sur &lt;em&gt;Cliquet&lt;/em&gt;, comme c'est le cas avec &lt;a class="reference external" href="http://kinto.readthedocs.org"&gt;Kinto&lt;/a&gt;,
tout le travail d'automatisation de la mise en production (&lt;em&gt;monitoring,
builds RPM, Puppet...&lt;/em&gt;) que nous avons fait pour &lt;em&gt;Reading List&lt;/em&gt; est
compltement rutilisable.&lt;/p&gt;
&lt;p&gt;De mme, si on repart avec une stack compltement diffrente, nous allons
devoir recommencer tout le travail de rodage, de profiling et d'optimisation
effectu au premier trimestre.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="les-prochaines-etapes"&gt;
&lt;h2&gt;Les prochaines tapes&lt;/h2&gt;
&lt;p&gt;Et il est encore temps de changer de stratgie :) Nous aimerions avoir un
maximum de retours !  C'est toujours une dcision difficile  prendre...
&lt;tt class="docutils literal"&gt;&amp;lt;/appel  troll&amp;gt;&lt;/tt&gt;&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Tordre un co-systme existant vs. constuire sur mesure ;&lt;/li&gt;
&lt;li&gt;Matriser l'ensemble vs. s'intgrer ;&lt;/li&gt;
&lt;li&gt;Contribuer vs. refaire ;&lt;/li&gt;
&lt;li&gt;Guider vs. suivre.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Nous avons vraiment l'intention de rejoindre l'initiative &lt;a class="reference external" href="https://nobackend.org/"&gt;no-backend&lt;/a&gt;, et ce premier pas n'exclue pas que nous convergions
 terme ! Peut-tre que nous allons finir par rendre notre service compatible
avec &lt;em&gt;Remote Storage&lt;/em&gt;, et peut-tre que &lt;em&gt;PouchDB&lt;/em&gt; deviendra plus agnostique
quand au protocole de synchronisation...&lt;/p&gt;
&lt;img alt="XKCD  Standards https://xkcd.com/927/" src="http://www.servicedenuages.fr/en/../images/standards.png" style="width: 500px; height: auto; max-width: 100%;"/&gt;
&lt;p&gt;Utiliser ce nouvel cosystme pour le projet  Payments  va nous permettre de
mettre au point un systme de permissions (&lt;em&gt;probablement bas sur les scopes OAuth&lt;/em&gt;) qui
correspond au besoin exprim. Et nous avons bien l'intention de puiser dans
&lt;a class="reference external" href="http://blog.daybed.io/daybed-revival.html"&gt;notre exprience avec Daybed sur le sujet&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Nous extrairons aussi le code des clients implments pour &lt;em&gt;Reading List&lt;/em&gt; afin
de faire un client JavaScript minimaliste.&lt;/p&gt;
&lt;p&gt;En partant dans notre coin, nous prenons plusieurs risques:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;rinventer une roue dont nous n'avons pas connaissance ;&lt;/li&gt;
&lt;li&gt;chouer  faire de l'co-systme &lt;em&gt;Cliquet&lt;/em&gt; un projet communautaire ;&lt;/li&gt;
&lt;li&gt;chouer  positionner &lt;em&gt;Cliquet&lt;/em&gt; dans la niche des cas non couverts par PouchDB :)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Comme &lt;a class="reference external" href="http://pouchdb.com/2015/04/05/filtered-replication.html"&gt;le dit Giovanni Ornaghi&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
Rolling out your set of webservices, push notifications, or background services
might give you more control, but at the same time it will force you to engineer,
write, test, and maintain a whole new ecosystem.&lt;/blockquote&gt;
&lt;p&gt;C'est justement l'co-systme dont est responsable l'quipe &lt;em&gt;Mozilla Cloud Services&lt;/em&gt;!&lt;/p&gt;
&lt;table class="docutils footnote" frame="void" id="id3" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label"&gt;&lt;/col&gt;&lt;col&gt;&lt;/col&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#id1"&gt;[1]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;Il existe le &lt;a class="reference external" href="https://sharesome.5apps.com/"&gt;projet Sharesome&lt;/a&gt; qui
permet de partager publiquement des ressources de son &lt;em&gt;remote Storage&lt;/em&gt;.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
</summary></entry><entry><title>Service de nuages !</title><link href="http://www.servicedenuages.fr/en/service-de-nuages" rel="alternate"></link><updated>2015-04-16T00:00:00+02:00</updated><author><name>Service de Nuages</name></author><id>tag:www.servicedenuages.fr,2015-04-16:en/service-de-nuages</id><summary type="html">&lt;p&gt;A bunch of changes since the beginning of the year for the "cloud-services"
frenchies!&lt;/p&gt;
&lt;p&gt;First of all, two new recruits are here to complement the team:
&lt;a class="reference external" href="https://nicolas.perriault.net/"&gt;n1k0&lt;/a&gt; and &lt;a class="reference external" href="http://mathieu-leplatre.info"&gt;Mathieu&lt;/a&gt; are now helping out &lt;a class="reference external" href="http://ziade.org/"&gt;Tarek&lt;/a&gt;, &lt;a class="reference external" href="http://natim.ionyse.com"&gt;Rmy&lt;/a&gt; and &lt;a class="reference external" href="http://notmyidea.org"&gt;Alexis&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The starting of this year has seen the launch of &lt;a class="reference external" href="https://www.mozilla.org/en-US/firefox/hello/"&gt;Firefox Hello&lt;/a&gt; which allowed us to scale up
&lt;a class="reference external" href="https://github.com/mozilla-services/loop-server"&gt;the server&lt;/a&gt;,
written in Node.js.&lt;/p&gt;
&lt;div class="section" id="a-readinglist-server"&gt;
&lt;h2&gt;A readinglist server&lt;/h2&gt;
&lt;p&gt;In parallel, a project about &lt;a class="reference external" href="https://readinglist.readthedocs.org"&gt;synchronizing reading lists&lt;/a&gt; (&lt;em&gt;Reading List&lt;/em&gt;) started.
The idea is to be able to bookmark pages to "read for later" and continue the
reading on any synchronized device (Firefox for Android or Firefox Desktop). An
open source counterpart to &lt;a class="reference external" href="http://getpocket.com"&gt;Pocket&lt;/a&gt;, in some regards, which is possible to host
yourself.&lt;/p&gt;
&lt;img alt="Capture of Firefox nightly with the readinglist." src="http://www.servicedenuages.fr/en/../images/readinglist-screenshot.png" style="width: 953px; height: auto; max-width: 100%;"/&gt;
&lt;p&gt;To build this service, we could have reused &lt;a class="reference external" href="https://github.com/mozilla-services/server-syncstorage"&gt;Firefox sync&lt;/a&gt; , after all it's
a robust synchronisation service, built on top of &lt;a class="reference external" href="http://cornice.readthedocs.org/"&gt;Cornice&lt;/a&gt;. But &lt;em&gt;Sync&lt;/em&gt; hasn't
been thought to guarantee strong data integrity and it was too complex to change that
deeply.&lt;/p&gt;
&lt;p&gt;We could also have created yet another application to expose an API and
persist data in a database.&lt;/p&gt;
&lt;p&gt;But, this little new team isn't here just by luck.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="the-daybed-team"&gt;
&lt;h2&gt;The Daybed Team&lt;/h2&gt;
&lt;p&gt;We share a vision: a generic data storage service! Maybe it brings to memories
&lt;a class="reference external" href="https://daybed.io"&gt;a certain project named Daybed&lt;/a&gt;?&lt;/p&gt;
&lt;p&gt;For client applications, JavaScript or other, using this service should be as
easy as a pie! The application handles its data locally (offline-first) and
synchronizes upon request.&lt;/p&gt;
&lt;p&gt;Here, the heart of the &lt;em&gt;Reading List&lt;/em&gt; service is a "CRUD" API (Create, Retrieve,
Update, Delete), which handles synchronisation and authentication. We made the
bet to do a "simple" API, with the less specific code as possible, which would
create the basis of a generic service. Also because it's likely that other
similar projects will follow.&lt;/p&gt;
&lt;p&gt;A bunch of experience was accumulated within the team, on one hand with the
creation and evolution of &lt;em&gt;Firefox Sync&lt;/em&gt; and on the other hand with &lt;em&gt;Daybed&lt;/em&gt;
our side-project. We try to not reproduce the same mistakes while keeping
concepts which proved to be valid.&lt;/p&gt;
&lt;p&gt;For instance, we kept the &lt;em&gt;timestamp&lt;/em&gt; mechanism of &lt;em&gt;Sync&lt;/em&gt;, which is used to
synchronize collections. As these problematics are recurring or even impossible
to avoid, we decided to build on top of this synchronization protocol and to
dissociate it from the readinglist project.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="the-one-way-mechanism"&gt;
&lt;h2&gt;The one-way mechanism&lt;/h2&gt;
&lt;p&gt;As a first stone to build the cathedral, we created &lt;a class="reference external" href="https://cliquet.readthedocs.org"&gt;Cliquet&lt;/a&gt;, which main idea is to have an
implementation of this protocol in Python, while factorizing all our good
practices (notably for putting everything in production).&lt;/p&gt;
&lt;img alt="Cliquet's logo" class="align-right" src="http://www.servicedenuages.fr/en/../images/cliquet-logo.png" style="width: 300px; height: auto; max-width: 100%;"/&gt;
&lt;p&gt;The good thing with protocols (as opposed to monoliths) is that if you prefer
Asyncio, io.js or Go, we will encourage you to publish your alternative
implementation!&lt;/p&gt;
&lt;p&gt;With &lt;em&gt;Cliquet&lt;/em&gt;, the code of the readinglist service consists into defining
a schema for the records and force some field values on certain calls. The size
of the project is dramatically reduced to a dozen lines of code.&lt;/p&gt;
&lt;p&gt;As to the future generic data storage service, &lt;a class="reference external" href="http://kinto.readthedocs.org"&gt;the project&lt;/a&gt; just started but it really is!
It can already be used as a storage backend in a &lt;em&gt;Cliquet&lt;/em&gt; application, and
this was &lt;a class="reference external" href="https://github.com/mozilla-services/kinto/blob/0.2.1/kinto/views/collection.py"&gt;implemented in only 20 lines of code&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Oh, and this time we will build features only from real use cases which are
coming along the way. It might seem silly, but on &lt;em&gt;Daybed&lt;/em&gt; we never made that point.&lt;/p&gt;
&lt;p&gt;In future articles, we want to describe the good practices we put together in
the protocol (or &lt;em&gt;Cliquet&lt;/em&gt;), certain specific technical points and present our
vision with examples and tutorials.&lt;/p&gt;
&lt;p&gt;See you soon, then!&lt;/p&gt;
&lt;/div&gt;
</summary></entry><entry><title>Service de nuages !</title><link href="http://www.servicedenuages.fr/en/../service-de-nuages" rel="alternate"></link><updated>2015-04-16T00:00:00+02:00</updated><author><name>Service de Nuages</name></author><id>tag:www.servicedenuages.fr,2015-04-16:en/../service-de-nuages</id><summary type="html">&lt;p&gt;Pas mal de changements depuis le dbut de l'anne pour l'quipe
cloud-services francophone!&lt;/p&gt;
&lt;p&gt;Tout d'abord, nouvelle importante, l'quipe s'toffe avec des profils assez
complmentaires: &lt;a class="reference external" href="https://nicolas.perriault.net/"&gt;n1k0&lt;/a&gt; et &lt;a class="reference external" href="http://mathieu-leplatre.info"&gt;Mathieu&lt;/a&gt; sont venus prter main forte  &lt;a class="reference external" href="http://ziade.org/"&gt;Tarek&lt;/a&gt;, &lt;a class="reference external" href="http://natim.ionyse.com"&gt;Rmy&lt;/a&gt; et &lt;a class="reference external" href="http://notmyidea.org"&gt;Alexis&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Le dbut de l'anne a vu le lancement de &lt;a class="reference external" href="https://www.mozilla.org/en-US/firefox/hello/"&gt;Firefox Hello&lt;/a&gt; ce qui nous a permis de passer
 l'chelle &lt;a class="reference external" href="https://github.com/mozilla-services/loop-server"&gt;le serveur&lt;/a&gt;,
crit en Node.js, pour l'occasion.&lt;/p&gt;
&lt;div class="section" id="un-serveur-de-listes-de-lecture"&gt;
&lt;h2&gt;Un serveur de listes de lecture&lt;/h2&gt;
&lt;p&gt;En parallle, un projet de &lt;a class="reference external" href="https://readinglist.readthedocs.org"&gt;synchronisation de liste de lecture&lt;/a&gt; (&lt;em&gt;Reading List&lt;/em&gt;) a vu le jour.  L'ide
tant de pouvoir marquer des pages " lire pour plus tard" et de continuer la
lecture sur n'importe quel priphrique synchronis (Firefox pour Android ou
Firefox Desktop). Un quivalent libre  &lt;a class="reference external" href="http://getpocket.com"&gt;Pocket&lt;/a&gt; en quelque sorte, qu'il est
possible d'hberger soit-mme.&lt;/p&gt;
&lt;img alt="Capture d'cran de Firefox nightly avec readinglist." src="http://www.servicedenuages.fr/en/../images/readinglist-screenshot.png" style="width: 953px; height: auto; max-width: 100%;"/&gt;
&lt;p&gt;Pour le construire, nous aurions pu rutiliser &lt;a class="reference external" href="https://github.com/mozilla-services/server-syncstorage"&gt;Firefox Sync&lt;/a&gt;, aprs tout
c'est un service de synchronisation de donnes trs robuste, construit avec &lt;a class="reference external" href="http://cornice.readthedocs.org/"&gt;Cornice&lt;/a&gt;.
Mais seulement, &lt;em&gt;Sync&lt;/em&gt; n'a pas t pens pour garantir la prennit des donnes,
et la marche tait trop haute pour changer a en profondeur.&lt;/p&gt;
&lt;p&gt;Nous aurions pu aussi nous contenter de faire une nime application qui expose
une API et persiste des donnes dans une base de donnes.&lt;/p&gt;
&lt;p&gt;Mais cette nouvelle petite quipe n'est pas l par hasard :)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="la-daybed-team"&gt;
&lt;h2&gt;La Daybed Team&lt;/h2&gt;
&lt;p&gt;On partage une vision: un service gnrique de stockage de donnes ! Peut-tre
que a vous rappelle &lt;a class="reference external" href="https://daybed.io"&gt;un certain projet nomm Daybed&lt;/a&gt; ?
Pour les applications clientes, JavaScript, mobiles ou autres, l'utilisation de
ce service doit tre un jeu d'enfant ! L'application gre ses donnes
localement (aka offline-first), et synchronise  la demande.&lt;/p&gt;
&lt;p&gt;Ici, le cur du serveur &lt;em&gt;Reading List&lt;/em&gt; est justement une API "CRUD" (Create,
Retrieve, Update, Delete), qui gre de la synchronisation et de
l'authentification. Nous avons donc pris le parti de faire une API "simple",
avec le moins de spcificits possible, qui poserait les bases d'un service
gnrique. Notamment parce qu'il y a d'autres projets dans la mme trempe qui vont suivre.&lt;/p&gt;
&lt;p&gt;Pas mal d'exprience ayant t accumule au sein de l'quipe, avec d'une part la
cration de &lt;em&gt;Firefox Sync&lt;/em&gt;, et d'autre part avec &lt;em&gt;Daybed&lt;/em&gt;, notre side-project, nous
tentons de ne pas reproduire les mmes erreurs, tout en gardant les concepts
qui ont fait leurs preuves.&lt;/p&gt;
&lt;p&gt;Par exemple, nous avons conserv le mcanisme de collections d'enregistrements
et de &lt;em&gt;timestamp&lt;/em&gt; de &lt;em&gt;Sync&lt;/em&gt;. Comme ces problmatiques sont rcurrentes, voire
incontournables, nous avons dcid de reprendre le protocole de synchronisation,
de l'tendre lgrement et surtout de le dissocier du projet de listes de lecture.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="le-mecanisme-qui-force-a-aller-de-l-avant"&gt;
&lt;h2&gt;Le mcanisme qui force  aller de l'avant&lt;/h2&gt;
&lt;p&gt;Comme premire pierre  l'difice, nous avons donn naissance au projet
&lt;a class="reference external" href="https://cliquet.readthedocs.org"&gt;Cliquet&lt;/a&gt;, dont l'ide principale est de
fournir une implmentation de ce protocole en python, tout en factorisant
l'ensemble de nos bonnes pratiques (pour la prod notamment).&lt;/p&gt;
&lt;img alt="Logo du projet Cliquet" class="align-right" src="http://www.servicedenuages.fr/en/../images/cliquet-logo.png" style="width: 300px; height: auto; max-width: 100%;"/&gt;
&lt;p&gt;L'avantage d'avoir un protocole plutt qu'un monolithe, c'est que si vous
prfrez Asyncio, io.js ou Go, on vous encouragera  publier votre
implmentation alternative !&lt;/p&gt;
&lt;p&gt;Avec &lt;em&gt;Cliquet&lt;/em&gt;, le code du serveur liste de lecture consiste principalement
 dfinir un schma pour les enregistrements, puis  forcer des valeurs de
champs sur certains appels. Cela rduit ce projet  quelques dizaines de lignes
de code.&lt;/p&gt;
&lt;p&gt;Quant au futur service de stockage gnrique, &lt;a class="reference external" href="http://kinto.readthedocs.org"&gt;le projet&lt;/a&gt; en est encore  ses balbutiements mais c'est
bel et bien en route ! Il permet dj d'tre branch comme backend de stockage
dans une application &lt;em&gt;Cliquet&lt;/em&gt;, et a &lt;a class="reference external" href="https://github.com/mozilla-services/kinto/blob/0.2.1/kinto/views/collection.py"&gt;implment en 20 lignes de code&lt;/a&gt;!&lt;/p&gt;
&lt;p&gt;Ah, et cette fois, nous ne construirons les fonctionnalits qu' partir des
besoins concrets qui surviennent. a parat tout bte, mais sur &lt;em&gt;Daybed&lt;/em&gt; on
l'a pas vu venir :)&lt;/p&gt;
&lt;p&gt;Dans les prochains articles, nous avons prvu de dcrire les bonnes pratiques
rassembles dans le protocole (ou &lt;em&gt;Cliquet&lt;/em&gt;), certains points techniques prcis
et de vous prsenter notre vision via des exemples et tutoriaux.&lt;/p&gt;
&lt;p&gt; bientt, donc !&lt;/p&gt;
&lt;/div&gt;
</summary></entry><entry><title>Le printemps</title><link href="http://www.servicedenuages.fr/en/spring" rel="alternate"></link><updated>2015-04-15T00:00:00+02:00</updated><author><name>Service de Nuages</name></author><id>tag:www.servicedenuages.fr,2015-04-15:en/spring</id><summary type="html">&lt;p&gt;It's spring already, and a good time to tidy-up a bit our minds!&lt;/p&gt;
&lt;p&gt;We've been stacking interesting experiences without really sharing them in
writings, so now's the time.&lt;/p&gt;
&lt;p&gt;There were a francophone conference about Hawk the past year, and some articles
in English in the Mozilla blog, but sometimes the English language doesn't let
us express ourselves in a compelling way.&lt;/p&gt;
&lt;p&gt;That's why, in this beginning of spring 2015, we propose a set of articles
written in French and translated in English whenever we can, about what we do in
our little &lt;em&gt;Service des nuages&lt;/em&gt; team at Mozilla.&lt;/p&gt;
&lt;img alt="Our very own logo" src="http://www.servicedenuages.fr/en/../images/service_de_nuages.png" style="width: 2268px; height: auto; max-width: 100%;"/&gt;
</summary></entry><entry><title>Le printemps</title><link href="http://www.servicedenuages.fr/en/../printemps" rel="alternate"></link><updated>2015-04-15T00:00:00+02:00</updated><author><name>Service de Nuages</name></author><id>tag:www.servicedenuages.fr,2015-04-15:en/../printemps</id><summary type="html">&lt;p&gt;C'est le printemps et n'en dplaise  certains, il est temps de faire
un peu de mnage.&lt;/p&gt;
&lt;p&gt;Voil quelques temps que nous accumulons les expriences et que nous
ne les partagions plus tellement par crit.&lt;/p&gt;
&lt;p&gt;Il y a bien eu une confrence francophone sur Hawk l'an pass et
quelques articles en anglais sur le blog de Mozilla, mais
parfois la barrire de la langue ne permet pas une entire
satisfaction sur ces retours d'exprience.&lt;/p&gt;
&lt;p&gt;C'est ainsi qu'en ce dbut de printemps 2015 nous dpoussirons nos
esprits et que nous vous proposons un ensemble d'articles en franais
sur ce que nous faisons dans notre petite quipe du Service de Nuages
de Mozilla.&lt;/p&gt;
&lt;img alt="Logo du service des nuages" src="http://www.servicedenuages.fr/en/../images/service_de_nuages.png" style="width: 2268px; height: auto; max-width: 100%;"/&gt;
</summary></entry></feed>